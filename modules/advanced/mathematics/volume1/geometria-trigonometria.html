<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 3: Geometr√≠a y Trigonometr√≠a - Matem√°ticas Avanzadas</title>
    <link rel="stylesheet" href="../../../../css/core.css">
    <link rel="stylesheet" href="../../../../css/components.css">
</head>
<body>
    <div id="header-container"></div>
    <div id="tabs-container"></div>
    <div id="score-container"></div>

    <div class="container">
        <!-- Teor√≠a -->
        <div class="content-section active" id="teoria">
            <h2>üìö Teor√≠a: Elementos de Geometr√≠a y Trigonometr√≠a</h2>

            <div class="info-box" class="bg-gradient-primary-white">
                <h4 class="color-white mt-0">üìñ Glosario de S√≠mbolos Matem√°ticos</h4>
                <p>S√≠mbolos utilizados en Geometr√≠a y Trigonometr√≠a:</p>
                <ul style="list-style: none; padding-left: 0; line-height: 2; margin-top: 1rem;">
                    <li><strong>‚ñ≥</strong> = Tri√°ngulo</li>
                    <li><strong>‚à†</strong> = √Ångulo</li>
                    <li><strong>‚ä•</strong> = Perpendicular</li>
                    <li><strong>‚à•</strong> = Paralelo</li>
                    <li><strong>‚âÖ</strong> = Congruente (igual forma y tama√±o)</li>
                    <li><strong>‚àº</strong> = Semejante (igual forma, diferente tama√±o)</li>
                    <li><strong>œÄ</strong> = Pi (‚âà3.14159), raz√≥n entre circunferencia y di√°metro</li>
                    <li><strong>sin, cos, tan</strong> = Razones trigonom√©tricas: seno, coseno, tangente</li>
                    <li><strong>¬∞</strong> = Grados (medida de √°ngulo)</li>
                    <li><strong>rad</strong> = Radianes (medida de √°ngulo, œÄ rad = 180¬∞)</li>
                </ul>
            </div>

            <h3>1. Teorema de Pit√°goras</h3>
            <div class="info-box">
                <h4>Teorema Fundamental de Tri√°ngulos Rect√°ngulos</h4>
                <p>En un tri√°ngulo rect√°ngulo, el cuadrado de la hipotenusa es igual a la suma de los cuadrados de los catetos.</p>
                <div class="formula-box">
                    a¬≤ + b¬≤ = c¬≤
                </div>
                <p>Donde <strong>c</strong> es la hipotenusa (lado m√°s largo) y <strong>a, b</strong> son los catetos (lados que forman el √°ngulo recto).</p>
            </div>

            <h3>2. Teorema de Thales</h3>
            <div class="info-box">
                <h4>Proporcionalidad en Rectas Paralelas</h4>
                <p>Si tres o m√°s rectas paralelas son cortadas por dos transversales, los segmentos determinados en una de las transversales son proporcionales a los segmentos correspondientes en la otra.</p>
                <div class="formula-box">
                    a/b = c/d
                </div>
            </div>

            <h3>3. Semejanza de Tri√°ngulos</h3>
            <div class="info-box">
                <h4>Criterios de Semejanza</h4>
                <p>Dos tri√°ngulos son semejantes (‚àº) si sus √°ngulos correspondientes son iguales y sus lados proporcionales.</p>
                <p><strong>Criterios:</strong></p>
                <table class="comparison-table">
                    <thead>
                        <tr><th>Criterio</th><th>Condici√≥n</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><strong>AA</strong></td><td>Dos √°ngulos correspondientes iguales</td></tr>
                        <tr><td><strong>LAL</strong></td><td>Dos lados proporcionales y √°ngulo igual entre ellos</td></tr>
                        <tr><td><strong>LLL</strong></td><td>Tres lados proporcionales</td></tr>
                    </tbody>
                </table>
            </div>

            <h3>4. C√≠rculo Trigonom√©trico</h3>
            <div class="info-box">
                <h4>C√≠rculo Unitario</h4>
                <p>Es un c√≠rculo de radio 1 centrado en el origen. Un √°ngulo Œ± en posici√≥n est√°ndar tiene su v√©rtice en el origen y un lado sobre el eje X positivo.</p>
                <p>Para un punto P(x,y) en el c√≠rculo trigonom√©trico:</p>
                <div class="formula-box">
                    x = cos(Œ±)  ,  y = sin(Œ±)
                </div>
            </div>

            <h3>5. Razones Trigonom√©tricas</h3>
            <div class="info-box">
                <h4>Definiciones en Tri√°ngulo Rect√°ngulo</h4>
                <p>En un tri√°ngulo rect√°ngulo con √°ngulo Œ±:</p>
                <div class="formula-box">
                    sin(Œ±) = cateto opuesto / hipotenusa<br>
                    cos(Œ±) = cateto adyacente / hipotenusa<br>
                    tan(Œ±) = cateto opuesto / cateto adyacente = sin(Œ±)/cos(Œ±)
                </div>
            </div>

            <h3>6. √Ångulos Notables</h3>
            <table class="comparison-table">
                <thead>
                    <tr><th>√Ångulo</th><th>sin</th><th>cos</th><th>tan</th></tr>
                </thead>
                <tbody>
                    <tr><td>0¬∞</td><td>0</td><td>1</td><td>0</td></tr>
                    <tr><td>30¬∞</td><td>1/2</td><td>‚àö3/2</td><td>‚àö3/3</td></tr>
                    <tr><td>45¬∞</td><td>‚àö2/2</td><td>‚àö2/2</td><td>1</td></tr>
                    <tr><td>60¬∞</td><td>‚àö3/2</td><td>1/2</td><td>‚àö3</td></tr>
                    <tr><td>90¬∞</td><td>1</td><td>0</td><td>‚àû</td></tr>
                </tbody>
            </table>

            <h3>7. Identidades Trigonom√©tricas Fundamentales</h3>
            <div class="formula-box">
                sin¬≤(Œ±) + cos¬≤(Œ±) = 1<br>
                tan(Œ±) = sin(Œ±) / cos(Œ±)<br>
                1 + tan¬≤(Œ±) = 1/cos¬≤(Œ±)
            </div>
        </div>

        <!-- Ejemplos -->
        <div class="content-section" id="ejemplos">
            <h2>üí° Ejemplos Resueltos</h2>

            <div class="info-box" class="border-left-success">
                <h4 class="color-success">Ejemplo 1: Teorema de Pit√°goras</h4>
                <p><strong>Problema:</strong> Un tri√°ngulo rect√°ngulo tiene catetos de 3 cm y 4 cm. ¬øCu√°l es la longitud de la hipotenusa?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>Aplicamos el teorema de Pit√°goras: a¬≤ + b¬≤ = c¬≤</p>
                <p>3¬≤ + 4¬≤ = c¬≤</p>
                <p>9 + 16 = c¬≤</p>
                <p>25 = c¬≤</p>
                <p>c = ‚àö25 = 5 cm</p>
                <p><strong>Respuesta:</strong> La hipotenusa mide <strong>5 cm</strong></p>
            </div>

            <div class="info-box" class="border-left-success">
                <h4 class="color-success">Ejemplo 2: Conversi√≥n de √Ångulos</h4>
                <p><strong>Problema:</strong> Convertir 60¬∞ a radianes.</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>Usamos la relaci√≥n: 180¬∞ = œÄ rad</p>
                <p>60¬∞ √ó (œÄ/180¬∞) = 60œÄ/180 = œÄ/3 rad</p>
                <p><strong>Respuesta:</strong> 60¬∞ = <strong>œÄ/3 radianes</strong> (‚âà 1.047 rad)</p>
            </div>

            <div class="info-box" class="border-left-success">
                <h4 class="color-success">Ejemplo 3: C√°lculo de Razones Trigonom√©tricas</h4>
                <p><strong>Problema:</strong> En un tri√°ngulo rect√°ngulo, la hipotenusa mide 10 y un cateto mide 6. Calcular sin(Œ±), cos(Œ±) y tan(Œ±) para el √°ngulo Œ± opuesto al cateto de 6.</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>Primero hallamos el otro cateto: b¬≤ + 6¬≤ = 10¬≤</p>
                <p>b¬≤ = 100 - 36 = 64  ‚Üí  b = 8</p>
                <p>sin(Œ±) = 6/10 = 0.6</p>
                <p>cos(Œ±) = 8/10 = 0.8</p>
                <p>tan(Œ±) = 6/8 = 0.75</p>
                <p><strong>Respuesta:</strong> sin(Œ±) = 0.6, cos(Œ±) = 0.8, tan(Œ±) = 0.75</p>
            </div>

            <div class="info-box" class="border-left-success">
                <h4 class="color-success">Ejemplo 4: Semejanza de Tri√°ngulos</h4>
                <p><strong>Problema:</strong> Dos tri√°ngulos son semejantes con raz√≥n de semejanza 2:3. Si el menor tiene lados 4, 5 y 6 cm, ¬øcu√°les son los lados del mayor?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>Raz√≥n = 3/2 = 1.5</p>
                <p>Lados del tri√°ngulo mayor: 4√ó1.5 = 6 cm, 5√ó1.5 = 7.5 cm, 6√ó1.5 = 9 cm</p>
                <p><strong>Respuesta:</strong> <strong>6 cm, 7.5 cm y 9 cm</strong></p>
            </div>

            <div class="info-box" class="border-left-success">
                <h4 class="color-success">Ejemplo 5: √Ångulos Notables</h4>
                <p><strong>Problema:</strong> Calcular el valor exacto de sin(30¬∞) + cos(60¬∞)</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>De la tabla de √°ngulos notables:</p>
                <p>sin(30¬∞) = 1/2</p>
                <p>cos(60¬∞) = 1/2</p>
                <p>sin(30¬∞) + cos(60¬∞) = 1/2 + 1/2 = 1</p>
                <p><strong>Respuesta:</strong> <strong>1</strong></p>
            </div>
        </div>

        <!-- Herramientas -->
        <div class="content-section" id="herramientas">
            <h2>üõ†Ô∏è Herramientas Interactivas</h2>

            <div class="tool-card">
                <h3>üìê Calculadora del Teorema de Pit√°goras</h3>
                <p>Calcula la hipotenusa conociendo los catetos</p>
                
                <div class="tool-input-group">
                    <label>Cateto a:</label>
                    <input type="number" id="cateto-a" step="0.01" placeholder="Ej: 3">
                </div>
                
                <div class="tool-input-group">
                    <label>Cateto b:</label>
                    <input type="number" id="cateto-b" step="0.01" placeholder="Ej: 4">
                </div>
                
                <button class="calc-button" onclick="calculatePythagorean()">Calcular</button>
                <div class="calc-result" id="pythag-result">Ingresa los catetos</div>
            </div>

            <div class="tool-card">
                <h3>üîÑ Convertidor de √Ångulos</h3>
                <p>Convierte entre grados y radianes</p>
                
                <div class="tool-input-group">
                    <label>Valor del √°ngulo:</label>
                    <input type="number" id="angle-value" step="0.01" placeholder="Ej: 60">
                </div>
                
                <div class="tool-input-group">
                    <label>Convertir de:</label>
                    <select id="angle-from">
                        <option value="deg">Grados (¬∞)</option>
                        <option value="rad">Radianes (rad)</option>
                    </select>
                </div>
                
                <button class="calc-button" onclick="convertAngle()">Convertir</button>
                <div class="calc-result" id="angle-result">Ingresa el valor</div>
            </div>

            <div class="tool-card">
                <h3>üìä Calculadora Trigonom√©trica</h3>
                <p>Calcula sin, cos y tan de un √°ngulo</p>
                
                <div class="tool-input-group">
                    <label>√Ångulo (grados):</label>
                    <input type="number" id="trig-angle" step="0.01" placeholder="Ej: 30">
                </div>
                
                <button class="calc-button" onclick="calculateTrig()">Calcular</button>
                <div class="calc-result" id="trig-result">Ingresa el √°ngulo</div>
            </div>
        </div>

        <!-- Pr√°ctica -->
        <div class="content-section" id="practica">
            <h2>‚úèÔ∏è Pr√°ctica</h2>

            <div id="exercises-container"></div>

            <div class="navigation-buttons" class="mt-2">
                <button class="btn btn-secondary" onclick="window.location.href='polinomios.html'">‚¨ÖÔ∏è Tema Anterior</button>
                <button class="btn btn-primary" onclick="window.location.href='../index.html'">Volver a Matem√°ticas</button>
            </div>
        </div>

        <!-- Resumen -->
        <div class="content-section" id="resumen">
            <h2>üìã Resumen del Tema</h2>

            <div class="info-box">
                <h4>üéØ Conceptos Clave</h4>
                <ul>
                    <li><strong>Teorema de Pit√°goras:</strong> a¬≤ + b¬≤ = c¬≤ (tri√°ngulos rect√°ngulos)</li>
                    <li><strong>Teorema de Thales:</strong> Proporcionalidad en rectas paralelas</li>
                    <li><strong>Semejanza:</strong> Tri√°ngulos con √°ngulos iguales y lados proporcionales</li>
                    <li><strong>Conversi√≥n:</strong> 180¬∞ = œÄ rad, usar factor œÄ/180 o 180/œÄ</li>
                    <li><strong>Razones trigonom√©tricas:</strong> sin = op/hip, cos = ady/hip, tan = op/ady</li>
                    <li><strong>Identidad fundamental:</strong> sin¬≤(Œ±) + cos¬≤(Œ±) = 1</li>
                    <li><strong>√Ångulos notables:</strong> Memorizar valores de 0¬∞, 30¬∞, 45¬∞, 60¬∞, 90¬∞</li>
                </ul>
            </div>

            <div class="navigation-buttons" class="mt-2">
                <button class="btn btn-secondary" onclick="window.location.href='polinomios.html'">‚¨ÖÔ∏è Tema Anterior</button>
                <button class="btn btn-primary" onclick="window.location.href='../index.html'">Volver a Matem√°ticas</button>
            </div>
        </div>
    </div>

    <script src="../../../../lib/storage.js"></script>
    <script src="../../../../lib/gamification.js"></script>
    <script src="../../../../lib/components.js"></script>
    <script>
        const MODULE_ID = 'geometria-trigonometria';
        const MODULE_TITLE = 'Tema 3: Elementos de Geometr√≠a y Trigonometr√≠a';

        document.addEventListener('DOMContentLoaded', function() {
            Components.createHeader(MODULE_TITLE, '../index.html');
            
            const tabs = [
                { id: 'teoria', label: 'Teor√≠a', icon: 'üìö' },
                { id: 'ejemplos', label: 'Ejemplos', icon: 'üí°' },
                { id: 'herramientas', label: 'Herramientas', icon: 'üõ†Ô∏è' },
                { id: 'practica', label: 'Pr√°ctica', icon: '‚úèÔ∏è' },
                { id: 'resumen', label: 'Resumen', icon: 'üìã' }
            ];
            Components.createTabs(tabs, 'teoria');
            Components.createScoreDisplay();
            
            loadExercises();
            Gamification.updateDisplay(MODULE_ID);
        });

        const exercises = [
            { id: 1, question: 'Un tri√°ngulo rect√°ngulo tiene catetos de 5 y 12. ¬øCu√°l es su hipotenusa?', type: 'number', correct: '13', hint: 'Aplica el teorema de Pit√°goras: 5¬≤ + 12¬≤ = c¬≤. Calcula ‚àö(25+144) = ‚àö169' },
            { id: 2, question: 'Convertir 90¬∞ a radianes (responde en forma decimal, ej: 1.57)', type: 'number', correct: '1.5708', tolerance: 0.01, hint: 'Usa radianes = grados √ó (œÄ/180). Entonces 90 √ó (œÄ/180) = œÄ/2 ‚âà 1.5708' },
            { id: 3, question: '¬øCu√°nto vale sin(30¬∞)? (responde en forma decimal)', type: 'number', correct: '0.5', hint: 'Consulta la tabla de √°ngulos notables. sin(30¬∞) = 1/2 = 0.5' },
            { id: 4, question: 'Si cos(Œ±) = 0.6 en un tri√°ngulo rect√°ngulo con hipotenusa 10, ¬øcu√°nto mide el cateto adyacente?', type: 'number', correct: '6', hint: 'cos(Œ±) = cateto adyacente / hipotenusa. Entonces: cateto = 0.6 √ó 10 = 6' },
            { id: 5, question: '¬øCu√°nto vale tan(45¬∞)?', type: 'number', correct: '1', hint: 'En un tri√°ngulo de 45¬∞-45¬∞-90¬∞, los dos catetos son iguales. Por tanto tan(45¬∞) = 1' },
            { id: 6, question: 'Si sin(Œ±) = 0.8, ¬øcu√°nto vale cos(Œ±)? (valor positivo, decimal)', type: 'number', correct: '0.6', hint: 'Usa sin¬≤(Œ±) + cos¬≤(Œ±) = 1. Despeja: cos¬≤(Œ±) = 1 - 0.64 = 0.36, entonces cos(Œ±) = 0.6' },
            { id: 7, question: 'Dos tri√°ngulos semejantes tienen raz√≥n 1:2. Si el menor tiene per√≠metro 12, ¬øcu√°l es el per√≠metro del mayor?', type: 'number', correct: '24', hint: 'La raz√≥n de per√≠metros es igual a la raz√≥n de semejanza: 12 √ó 2 = 24' },
            { id: 8, question: 'Convertir œÄ/4 radianes a grados', type: 'number', correct: '45', hint: 'Usa grados = radianes √ó (180/œÄ). Entonces (œÄ/4) √ó (180/œÄ) = 180/4 = 45¬∞' },
            { id: 9, question: 'Si tan(Œ±) = 3/4, ¬øcu√°nto vale sin(Œ±)? (decimal)', type: 'number', correct: '0.6', hint: 'Tri√°ngulo con catetos 3 y 4, hipotenusa = 5. Entonces sin(Œ±) = 3/5 = 0.6' },
            { id: 10, question: '¬øCu√°nto vale cos(60¬∞) √ó 2? (decimal)', type: 'number', correct: '1', hint: 'De la tabla, cos(60¬∞) = 1/2 = 0.5. Entonces 0.5 √ó 2 = 1' }
        ];

        function loadExercises() {
            const container = document.getElementById('exercises-container');
            container.innerHTML = exercises.map(ex => `
                <div class="exercise-card" data-exercise="${ex.id}">
                    <h4>Ejercicio ${ex.id}</h4>
                    <p>${ex.question}</p>
                    <input type="number" step="any" id="ex${ex.id}" class="input-field" placeholder="Tu respuesta">
                    <div class="button-group">
                        <button class="btn btn-primary" onclick="checkAnswer(${ex.id})">Verificar</button>
                        <button class="btn btn-secondary" onclick="showHint(${ex.id})">üí° Pista</button>
                    </div>
                    <div id="hint${ex.id}" class="hint-box" class="d-none">${ex.hint}</div>
                    <div id="feedback${ex.id}" class="feedback"></div>
                </div>
            `).join('');
        }

        function checkAnswer(exerciseId) {
            const exercise = exercises.find(ex => ex.id === exerciseId);
            const input = document.getElementById('ex' + exerciseId);
            const feedback = document.getElementById('feedback' + exerciseId);
            const userAnswer = parseFloat(input.value.trim());

            if (isNaN(userAnswer)) {
                feedback.className = 'feedback error';
                feedback.textContent = 'Por favor, ingresa una respuesta num√©rica.';
                feedback.style.display = 'block';
                return;
            }

            const correctValue = parseFloat(exercise.correct);
            const tolerance = exercise.tolerance || 0.01;
            const isCorrect = Math.abs(userAnswer - correctValue) <= tolerance;
            
            if (isCorrect) {
                feedback.className = 'feedback success';
                feedback.textContent = '¬°Correcto! ‚ú® +10 puntos';
                input.disabled = true;
                Gamification.completeExercise(MODULE_ID, true);
            } else {
                feedback.className = 'feedback error';
                feedback.textContent = 'Incorrecto. Intenta de nuevo o usa la pista.';
                Gamification.completeExercise(MODULE_ID, false);
            }
            
            feedback.style.display = 'block';
            Gamification.updateDisplay(MODULE_ID);
        }

        function showHint(exerciseId) {
            const hint = document.getElementById('hint' + exerciseId);
            hint.style.display = hint.style.display === 'none' ? 'block' : 'none';
        }

        // Interactive tools
        function calculatePythagorean() {
            const a = parseFloat(document.getElementById('cateto-a').value);
            const b = parseFloat(document.getElementById('cateto-b').value);
            const result = document.getElementById('pythag-result');
            
            if (isNaN(a) || isNaN(b)) {
                result.textContent = '‚ö†Ô∏è Por favor, completa ambos catetos';
                return;
            }
            
            const c = Math.sqrt(a * a + b * b);
            result.innerHTML = `
                <strong>C√°lculo:</strong> ‚àö(${a}¬≤ + ${b}¬≤) = ‚àö(${a*a} + ${b*b}) = ‚àö${a*a + b*b}<br>
                <strong>Hipotenusa:</strong> c = ${c.toFixed(2)}
            `;
        }

        function convertAngle() {
            const value = parseFloat(document.getElementById('angle-value').value);
            const from = document.getElementById('angle-from').value;
            const result = document.getElementById('angle-result');
            
            if (isNaN(value)) {
                result.textContent = '‚ö†Ô∏è Por favor, ingresa un valor';
                return;
            }
            
            if (from === 'deg') {
                const rad = value * Math.PI / 180;
                result.innerHTML = `
                    <strong>${value}¬∞</strong> = <strong>${rad.toFixed(4)} radianes</strong><br>
                    Equivalente a ${(value / 180).toFixed(3)}œÄ rad
                `;
            } else {
                const deg = value * 180 / Math.PI;
                result.innerHTML = `
                    <strong>${value} rad</strong> = <strong>${deg.toFixed(2)}¬∞</strong><br>
                    Equivalente a ${(value / Math.PI).toFixed(3)}œÄ rad
                `;
            }
        }

        function calculateTrig() {
            const angleDeg = parseFloat(document.getElementById('trig-angle').value);
            const result = document.getElementById('trig-result');
            
            if (isNaN(angleDeg)) {
                result.textContent = '‚ö†Ô∏è Por favor, ingresa un √°ngulo';
                return;
            }
            
            const angleRad = angleDeg * Math.PI / 180;
            const sinVal = Math.sin(angleRad);
            const cosVal = Math.cos(angleRad);
            const tanVal = Math.tan(angleRad);
            
            result.innerHTML = `
                <strong>√Ångulo:</strong> ${angleDeg}¬∞ (${angleRad.toFixed(4)} rad)<br>
                <strong>sin(${angleDeg}¬∞):</strong> ${sinVal.toFixed(4)}<br>
                <strong>cos(${angleDeg}¬∞):</strong> ${cosVal.toFixed(4)}<br>
                <strong>tan(${angleDeg}¬∞):</strong> ${Math.abs(tanVal) > 1000 ? '‚àû' : tanVal.toFixed(4)}
            `;
        }
    </script>
</body>
</html>
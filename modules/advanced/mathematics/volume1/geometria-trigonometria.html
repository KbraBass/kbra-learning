<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geometr√≠a y Trigonometr√≠a - Matem√°ticas Avanzadas</title>
    <link rel="stylesheet" href="../../../../css/core.css">
    <link rel="stylesheet" href="../../../../css/components.css">
</head>
<body>
    <div id="header-container"></div>
    <div id="tabs-container"></div>
    <div id="score-container"></div>

    <div class="container">
        <!-- Tab 1: Glosario -->
        <div class="content-section active" id="glosario">
            <h2>üìñ Glosario de Geometr√≠a y Trigonometr√≠a</h2>
            
            <div class="info-box" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
                <p style="margin: 0; font-size: 1.1rem;">Aprende los t√©rminos clave relacionados con la geometr√≠a y trigonometr√≠a:</p>
            </div>

            <div class="glossary-term">
                <h3>üîµ Teorema de Pit√°goras</h3>
                <p><strong>Definici√≥n:</strong> En un tri√°ngulo rect√°ngulo, el cuadrado de la hipotenusa es igual a la suma de los cuadrados de los catetos.</p>
                <p><strong>F√≥rmula:</strong> a¬≤ + b¬≤ = c¬≤, donde c es la hipotenusa y a, b son los catetos.</p>
                <p><strong>Ejemplo:</strong> Si los catetos miden 3 y 4, la hipotenusa es ‚àö(9+16) = 5.</p>
            </div>

            <div class="glossary-term">
                <h3>üîµ Semejanza</h3>
                <p><strong>Definici√≥n:</strong> Dos figuras son semejantes cuando tienen la misma forma pero diferente tama√±o. Sus √°ngulos correspondientes son iguales y sus lados son proporcionales.</p>
                <p><strong>S√≠mbolo:</strong> ‚àº (tri√°ngulo ABC ‚àº tri√°ngulo DEF)</p>
                <p><strong>Ejemplo:</strong> Dos tri√°ngulos con √°ngulos 60¬∞-60¬∞-60¬∞ son semejantes, sin importar sus tama√±os.</p>
            </div>

            <div class="glossary-term">
                <h3>üîµ Razones Trigonom√©tricas</h3>
                <p><strong>Definici√≥n:</strong> Son relaciones entre los lados de un tri√°ngulo rect√°ngulo. Las principales son seno (sin), coseno (cos) y tangente (tan).</p>
                <p><strong>F√≥rmulas:</strong></p>
                <ul>
                    <li>sin(Œ±) = cateto opuesto / hipotenusa</li>
                    <li>cos(Œ±) = cateto adyacente / hipotenusa</li>
                    <li>tan(Œ±) = cateto opuesto / cateto adyacente</li>
                </ul>
                <p><strong>Ejemplo:</strong> En un tri√°ngulo con hipotenusa 10 y cateto opuesto 6, sin(Œ±) = 6/10 = 0.6</p>
            </div>

            <div class="glossary-term">
                <h3>üîµ C√≠rculo Trigonom√©trico</h3>
                <p><strong>Definici√≥n:</strong> Es un c√≠rculo de radio 1 centrado en el origen de un sistema de coordenadas. Se usa para definir las funciones trigonom√©tricas para cualquier √°ngulo.</p>
                <p><strong>Propiedad clave:</strong> Para un punto P(x,y) en el c√≠rculo, x = cos(Œ±) e y = sin(Œ±)</p>
                <p><strong>Ejemplo:</strong> En el √°ngulo 0¬∞, el punto es (1,0), por lo que cos(0¬∞)=1 y sin(0¬∞)=0</p>
            </div>

            <div class="glossary-term">
                <h3>üîµ Radianes</h3>
                <p><strong>Definici√≥n:</strong> Una unidad de medida de √°ngulos donde el √°ngulo completo (360¬∞) equivale a 2œÄ radianes. Un radian es el √°ngulo que subtiende un arco de longitud igual al radio.</p>
                <p><strong>Conversi√≥n:</strong> 180¬∞ = œÄ rad ‚Üí Para convertir: radianes = grados √ó (œÄ/180)</p>
                <p><strong>Ejemplo:</strong> 90¬∞ = œÄ/2 radianes ‚âà 1.5708 rad</p>
            </div>
        </div>

        <!-- Tab 2: S√≠mbolos -->
        <div class="content-section" id="simbolos">
            <h2>üî£ S√≠mbolos Matem√°ticos en Geometr√≠a y Trigonometr√≠a</h2>
            
            <div class="info-box" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
                <p style="margin: 0; font-size: 1.1rem;">Conoce los s√≠mbolos utilizados en geometr√≠a y trigonometr√≠a:</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-large">‚ñ≥</div>
                <h3>‚ñ≥ - Tri√°ngulo</h3>
                <p><strong>Uso:</strong> Representa un tri√°ngulo. Ejemplo: ‚ñ≥ABC indica el tri√°ngulo con v√©rtices A, B y C.</p>
                <p><strong>Contexto:</strong> "El ‚ñ≥ABC es rect√°ngulo en B" significa que el √°ngulo en B es de 90¬∞.</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-large">‚à†</div>
                <h3>‚à† - √Ångulo</h3>
                <p><strong>Uso:</strong> Denota un √°ngulo. Ejemplo: ‚à†ABC representa el √°ngulo formado por los rayos BA y BC.</p>
                <p><strong>Contexto:</strong> "‚à†ABC = 60¬∞" indica que el √°ngulo mide 60 grados.</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-large">‚ä•, ‚à•</div>
                <h3>‚ä• - Perpendicular, ‚à• - Paralelo</h3>
                <p><strong>Uso:</strong> ‚ä• indica que dos l√≠neas son perpendiculares (forman 90¬∞). ‚à• indica que dos l√≠neas son paralelas (nunca se cruzan).</p>
                <p><strong>Contexto:</strong> "AB ‚ä• CD" significa que AB es perpendicular a CD. "EF ‚à• GH" significa que EF es paralela a GH.</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-large">‚âÖ, ‚àº</div>
                <h3>‚âÖ - Congruente, ‚àº - Semejante</h3>
                <p><strong>Uso:</strong> ‚âÖ indica figuras con igual forma Y tama√±o. ‚àº indica figuras con igual forma pero diferente tama√±o.</p>
                <p><strong>Contexto:</strong> "‚ñ≥ABC ‚âÖ ‚ñ≥DEF" (tri√°ngulos id√©nticos). "‚ñ≥ABC ‚àº ‚ñ≥DEF" (misma forma, tama√±o diferente).</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-large">œÄ</div>
                <h3>œÄ - Pi</h3>
                <p><strong>Uso:</strong> Constante matem√°tica (‚âà3.14159) que representa la raz√≥n entre la circunferencia y el di√°metro de un c√≠rculo.</p>
                <p><strong>Contexto:</strong> Usado en f√≥rmulas de c√≠rculos y conversi√≥n de √°ngulos. 180¬∞ = œÄ radianes.</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-large">sin, cos, tan</div>
                <h3>sin, cos, tan - Funciones Trigonom√©tricas</h3>
                <p><strong>Uso:</strong> Representan las tres razones trigonom√©tricas principales: seno, coseno y tangente.</p>
                <p><strong>Contexto:</strong> sin(30¬∞) = 0.5, cos(0¬∞) = 1, tan(45¬∞) = 1. Se usan para resolver tri√°ngulos.</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-large">¬∞, rad</div>
                <h3>¬∞ - Grados, rad - Radianes</h3>
                <p><strong>Uso:</strong> Dos formas de medir √°ngulos. ¬∞ (grados) divide el c√≠rculo en 360 partes. rad (radianes) usa œÄ.</p>
                <p><strong>Contexto:</strong> 90¬∞ = œÄ/2 rad. Se convierten con œÄ/180 o 180/œÄ.</p>
            </div>
        </div>

        <!-- Tab 3: Introducci√≥n -->
        <div class="content-section" id="introduccion">
            <h2>üìö Introducci√≥n a la Geometr√≠a y Trigonometr√≠a</h2>
            
            <div class="info-box" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
                <p style="margin: 0; font-size: 1.1rem;"><strong>¬øPor qu√© es importante la geometr√≠a y trigonometr√≠a?</strong></p>
                <p style="margin-top: 0.5rem;">Estas disciplinas matem√°ticas son fundamentales para comprender el mundo que nos rodea y resolver problemas pr√°cticos en m√∫ltiples campos.</p>
            </div>

            <div class="application-card">
                <h3>üèóÔ∏è Arquitectura e Ingenier√≠a</h3>
                <p><strong>Aplicaci√≥n:</strong> El teorema de Pit√°goras y las razones trigonom√©tricas son esenciales para calcular distancias, alturas y √°ngulos en construcciones.</p>
                <p><strong>Ejemplo real:</strong> Los ingenieros usan trigonometr√≠a para calcular la inclinaci√≥n de un tejado, la altura de un edificio midiendo su sombra, o la estabilidad de estructuras triangulares en puentes.</p>
                <p><strong>Por qu√© importa:</strong> Sin estos c√°lculos precisos, los edificios y puentes podr√≠an colapsar.</p>
            </div>

            <div class="application-card">
                <h3>üì± Gr√°ficos por Computadora y Videojuegos</h3>
                <p><strong>Aplicaci√≥n:</strong> La trigonometr√≠a se usa para rotar objetos, calcular perspectivas, y simular movimientos realistas en 3D.</p>
                <p><strong>Ejemplo real:</strong> Cuando un personaje de videojuego camina por una pendiente, el motor gr√°fico usa funciones trigonom√©tricas para calcular su orientaci√≥n y movimiento natural.</p>
                <p><strong>Por qu√© importa:</strong> Es la base matem√°tica de toda la industria de animaci√≥n y videojuegos.</p>
            </div>

            <div class="application-card">
                <h3>üõ∞Ô∏è Navegaci√≥n y GPS</h3>
                <p><strong>Aplicaci√≥n:</strong> Los sistemas de navegaci√≥n usan triangulaci√≥n (basada en geometr√≠a) y c√°lculos trigonom√©tricos para determinar posiciones exactas.</p>
                <p><strong>Ejemplo real:</strong> Tu tel√©fono usa se√±ales de al menos 3 sat√©lites y geometr√≠a para calcular tu ubicaci√≥n exacta en el planeta.</p>
                <p><strong>Por qu√© importa:</strong> Hace posible la navegaci√≥n precisa en aviones, barcos, y aplicaciones de mapas.</p>
            </div>

            <div class="application-card">
                <h3>üéµ M√∫sica y Ac√∫stica</h3>
                <p><strong>Aplicaci√≥n:</strong> Las ondas sonoras se modelan con funciones trigonom√©tricas. La relaci√≥n entre frecuencias usa proporciones geom√©tricas.</p>
                <p><strong>Ejemplo real:</strong> Los intervalos musicales (octava, quinta, cuarta) corresponden a razones simples (2:1, 3:2, 4:3) - semejanza de tri√°ngulos aplicada al sonido.</p>
                <p><strong>Por qu√© importa:</strong> Explica por qu√© ciertas combinaciones de notas suenan armoniosas.</p>
            </div>

            <div class="application-card">
                <h3>üî≠ Astronom√≠a</h3>
                <p><strong>Aplicaci√≥n:</strong> Los astr√≥nomos usan trigonometr√≠a para medir distancias a estrellas y planetas, y para predecir posiciones celestes.</p>
                <p><strong>Ejemplo real:</strong> El m√©todo de paralaje usa geometr√≠a para medir la distancia a estrellas observ√°ndolas desde diferentes puntos de la √≥rbita terrestre.</p>
                <p><strong>Por qu√© importa:</strong> Nos permite mapear el universo sin visitarlo f√≠sicamente.</p>
            </div>

            <div class="info-box" style="background-color: #e3f2fd; border-left: 4px solid #2196f3; padding: 1rem; margin-top: 2rem;">
                <h4 style="color: #1976d2; margin-top: 0;">üí° Conexi√≥n con la vida diaria</h4>
                <p>Cada vez que usas un mapa, juegas videojuegos, miras un edificio, o escuchas m√∫sica, est√°s experimentando aplicaciones de la geometr√≠a y trigonometr√≠a. Estos conceptos matem√°ticos son las herramientas invisibles que hacen funcionar gran parte de nuestra tecnolog√≠a moderna.</p>
            </div>
        </div>

        <!-- Tab 4: Teor√≠a -->
        <div class="content-section" id="teoria">
            <h2>üìê Teor√≠a y Pr√°ctica</h2>

            <h3>1. Teorema de Pit√°goras</h3>
            <div class="info-box">
                <h4>Teorema Fundamental de Tri√°ngulos Rect√°ngulos</h4>
                <p>En un tri√°ngulo rect√°ngulo, el cuadrado de la hipotenusa es igual a la suma de los cuadrados de los catetos.</p>
                <div class="formula-box">
                    a¬≤ + b¬≤ = c¬≤
                </div>
                <p>Donde <strong>c</strong> es la hipotenusa (lado m√°s largo) y <strong>a, b</strong> son los catetos (lados que forman el √°ngulo recto).</p>
            </div>

            <div class="tool-card">
                <h4>üìê Calculadora del Teorema de Pit√°goras</h4>
                <p>Calcula la hipotenusa conociendo los catetos</p>
                
                <div class="tool-input-group">
                    <label>Cateto a:</label>
                    <input type="number" id="cateto-a" step="0.01" placeholder="Ej: 3">
                </div>
                
                <div class="tool-input-group">
                    <label>Cateto b:</label>
                    <input type="number" id="cateto-b" step="0.01" placeholder="Ej: 4">
                </div>
                
                <button class="calc-button" onclick="calculatePythagorean()">Calcular</button>
                <div class="calc-result" id="pythag-result">Ingresa los catetos</div>
            </div>

            <h3>2. Teorema de Thales</h3>
            <div class="info-box">
                <h4>Proporcionalidad en Rectas Paralelas</h4>
                <p>Si tres o m√°s rectas paralelas son cortadas por dos transversales, los segmentos determinados en una de las transversales son proporcionales a los segmentos correspondientes en la otra.</p>
                <div class="formula-box">
                    a/b = c/d
                </div>
            </div>

            <h3>3. Semejanza de Tri√°ngulos</h3>
            <div class="info-box">
                <h4>Criterios de Semejanza</h4>
                <p>Dos tri√°ngulos son semejantes (‚àº) si sus √°ngulos correspondientes son iguales y sus lados proporcionales.</p>
                <p><strong>Criterios:</strong></p>
                <table class="comparison-table">
                    <thead>
                        <tr><th>Criterio</th><th>Condici√≥n</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><strong>AA</strong></td><td>Dos √°ngulos correspondientes iguales</td></tr>
                        <tr><td><strong>LAL</strong></td><td>Dos lados proporcionales y √°ngulo igual entre ellos</td></tr>
                        <tr><td><strong>LLL</strong></td><td>Tres lados proporcionales</td></tr>
                    </tbody>
                </table>
            </div>

            <h3>4. Razones Trigonom√©tricas</h3>
            <div class="info-box">
                <h4>Definiciones en Tri√°ngulo Rect√°ngulo</h4>
                <p>En un tri√°ngulo rect√°ngulo con √°ngulo Œ±:</p>
                <div class="formula-box">
                    sin(Œ±) = cateto opuesto / hipotenusa<br>
                    cos(Œ±) = cateto adyacente / hipotenusa<br>
                    tan(Œ±) = cateto opuesto / cateto adyacente = sin(Œ±)/cos(Œ±)
                </div>
            </div>

            <div class="tool-card">
                <h4>üîÑ Convertidor de √Ångulos</h4>
                <p>Convierte entre grados y radianes</p>
                
                <div class="tool-input-group">
                    <label>Valor del √°ngulo:</label>
                    <input type="number" id="angle-value" step="0.01" placeholder="Ej: 60">
                </div>
                
                <div class="tool-input-group">
                    <label>Convertir de:</label>
                    <select id="angle-from">
                        <option value="deg">Grados (¬∞)</option>
                        <option value="rad">Radianes (rad)</option>
                    </select>
                </div>
                
                <button class="calc-button" onclick="convertAngle()">Convertir</button>
                <div class="calc-result" id="angle-result">Ingresa el valor</div>
            </div>

            <div class="tool-card">
                <h4>üìä Calculadora Trigonom√©trica</h4>
                <p>Calcula sin, cos y tan de un √°ngulo</p>
                
                <div class="tool-input-group">
                    <label>√Ångulo (grados):</label>
                    <input type="number" id="trig-angle" step="0.01" placeholder="Ej: 30">
                </div>
                
                <button class="calc-button" onclick="calculateTrig()">Calcular</button>
                <div class="calc-result" id="trig-result">Ingresa el √°ngulo</div>
            </div>

            <h3>5. √Ångulos Notables</h3>
            <table class="comparison-table">
                <thead>
                    <tr><th>√Ångulo</th><th>sin</th><th>cos</th><th>tan</th></tr>
                </thead>
                <tbody>
                    <tr><td>0¬∞</td><td>0</td><td>1</td><td>0</td></tr>
                    <tr><td>30¬∞</td><td>1/2</td><td>‚àö3/2</td><td>‚àö3/3</td></tr>
                    <tr><td>45¬∞</td><td>‚àö2/2</td><td>‚àö2/2</td><td>1</td></tr>
                    <tr><td>60¬∞</td><td>‚àö3/2</td><td>1/2</td><td>‚àö3</td></tr>
                    <tr><td>90¬∞</td><td>1</td><td>0</td><td>‚àû</td></tr>
                </tbody>
            </table>

            <h3>6. Identidades Trigonom√©tricas Fundamentales</h3>
            <div class="formula-box">
                sin¬≤(Œ±) + cos¬≤(Œ±) = 1<br>
                tan(Œ±) = sin(Œ±) / cos(Œ±)<br>
                1 + tan¬≤(Œ±) = 1/cos¬≤(Œ±)
            </div>
        </div>

        <!-- Tab 5: Entrenamiento -->
        <div class="content-section" id="entrenamiento">
            <h2>üéØ Entrenamiento</h2>
            
            <div class="info-box" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
                <p style="margin: 0;"><strong>üìù Practica tus conocimientos</strong></p>
                <p style="margin-top: 0.5rem;">Resuelve estos problemas de geometr√≠a y trigonometr√≠a. Cada respuesta correcta suma <strong>+10 puntos</strong>, cada incorrecta resta <strong>-5 puntos</strong>.</p>
            </div>

            <div id="training-container"></div>
        </div>

        <!-- Tab 6: Examen Final -->
        <div class="content-section" id="examen">
            <h2>üìù Examen Final de Geometr√≠a y Trigonometr√≠a</h2>
            
            <div class="info-box" style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
                <p style="margin: 0;"><strong>Completa este examen para demostrar tu dominio de la geometr√≠a y trigonometr√≠a.</strong></p>
                <p style="margin-top: 1rem;"><strong>Requisitos:</strong> 70% o m√°s para aprobar (14/20 respuestas correctas)</p>
                <p style="margin-top: 0.5rem;"><strong>Recompensa:</strong> Obt√©n el trofeo "Maestro de Geometr√≠a y Trigonometr√≠a" üèÜ</p>
            </div>

            <div id="exam-container"></div>
            
            <div id="exam-results" style="display: none;">
                <div class="info-box">
                    <h3 id="results-title"></h3>
                    <p id="results-text"></p>
                    <p id="results-score"></p>
                    <button class="btn btn-primary" onclick="retakeExam()">Reintentar Examen</button>
                </div>
            </div>
        </div>
    </div>

    <script src="../../../../lib/storage.js"></script>
    <script src="../../../../lib/gamification.js"></script>
    <script src="../../../../lib/components.js"></script>
    <script>
        const MODULE_ID = 'geometria-trigonometria';
        const MODULE_TITLE = 'Geometr√≠a y Trigonometr√≠a';

        document.addEventListener('DOMContentLoaded', function() {
            Components.createHeader(MODULE_TITLE, '../index.html');
            
            const tabs = [
                { id: 'glosario', label: 'Glosario', icon: 'üìñ' },
                { id: 'simbolos', label: 'S√≠mbolos', icon: 'üî£' },
                { id: 'introduccion', label: 'Introducci√≥n', icon: 'üìö' },
                { id: 'teoria', label: 'Teor√≠a', icon: 'üìê' },
                { id: 'entrenamiento', label: 'Entrenamiento', icon: 'üéØ' },
                { id: 'examen', label: 'Examen Final', icon: 'üìù' }
            ];
            Components.createTabs(tabs, 'glosario');
            Components.createScoreDisplay();
            
            loadTraining();
            loadExam();
            Gamification.updateDisplay(MODULE_ID);
        });

        // Training exercises
        const trainingExercises = [
            { id: 1, question: 'Un tri√°ngulo rect√°ngulo tiene catetos de 5 y 12. ¬øCu√°l es su hipotenusa?', correct: '13', hint: 'Aplica el teorema de Pit√°goras: 5¬≤ + 12¬≤ = c¬≤. Calcula ‚àö(25+144) = ‚àö169' },
            { id: 2, question: 'Convertir 90¬∞ a radianes (responde en forma decimal, ej: 1.57)', correct: '1.5708', tolerance: 0.01, hint: 'Usa radianes = grados √ó (œÄ/180). Entonces 90 √ó (œÄ/180) = œÄ/2 ‚âà 1.5708' },
            { id: 3, question: '¬øCu√°nto vale sin(30¬∞)? (responde en forma decimal)', correct: '0.5', hint: 'Consulta la tabla de √°ngulos notables. sin(30¬∞) = 1/2 = 0.5' },
            { id: 4, question: 'Si cos(Œ±) = 0.6 en un tri√°ngulo rect√°ngulo con hipotenusa 10, ¬øcu√°nto mide el cateto adyacente?', correct: '6', hint: 'cos(Œ±) = cateto adyacente / hipotenusa. Entonces: cateto = 0.6 √ó 10 = 6' },
            { id: 5, question: '¬øCu√°nto vale tan(45¬∞)?', correct: '1', hint: 'En un tri√°ngulo de 45¬∞-45¬∞-90¬∞, los dos catetos son iguales. Por tanto tan(45¬∞) = 1' },
            { id: 6, question: 'Si sin(Œ±) = 0.8, ¬øcu√°nto vale cos(Œ±)? (valor positivo, decimal)', correct: '0.6', hint: 'Usa sin¬≤(Œ±) + cos¬≤(Œ±) = 1. Despeja: cos¬≤(Œ±) = 1 - 0.64 = 0.36, entonces cos(Œ±) = 0.6' },
            { id: 7, question: 'Dos tri√°ngulos semejantes tienen raz√≥n 1:2. Si el menor tiene per√≠metro 12, ¬øcu√°l es el per√≠metro del mayor?', correct: '24', hint: 'La raz√≥n de per√≠metros es igual a la raz√≥n de semejanza: 12 √ó 2 = 24' },
            { id: 8, question: 'Convertir œÄ/4 radianes a grados', correct: '45', hint: 'Usa grados = radianes √ó (180/œÄ). Entonces (œÄ/4) √ó (180/œÄ) = 180/4 = 45¬∞' },
            { id: 9, question: 'Si tan(Œ±) = 3/4, ¬øcu√°nto vale sin(Œ±)? (decimal)', correct: '0.6', hint: 'Tri√°ngulo con catetos 3 y 4, hipotenusa = 5. Entonces sin(Œ±) = 3/5 = 0.6' },
            { id: 10, question: '¬øCu√°nto vale cos(60¬∞) √ó 2? (decimal)', correct: '1', hint: 'De la tabla, cos(60¬∞) = 1/2 = 0.5. Entonces 0.5 √ó 2 = 1' }
        ];

        function loadTraining() {
            const container = document.getElementById('training-container');
            container.innerHTML = trainingExercises.map(ex => `
                <div class="exercise-card" data-exercise="${ex.id}">
                    <h4>Ejercicio ${ex.id}</h4>
                    <p>${ex.question}</p>
                    <input type="number" step="any" id="train${ex.id}" class="input-field" placeholder="Tu respuesta">
                    <div class="button-group">
                        <button class="btn btn-primary" onclick="checkTraining(${ex.id})">Verificar</button>
                        <button class="btn btn-secondary" onclick="showHint(${ex.id})">üí° Pista</button>
                    </div>
                    <div id="hint${ex.id}" class="hint-box" style="display:none">${ex.hint}</div>
                    <div id="feedback${ex.id}" class="feedback"></div>
                </div>
            `).join('');
        }

        function checkTraining(exerciseId) {
            const exercise = trainingExercises.find(ex => ex.id === exerciseId);
            const input = document.getElementById('train' + exerciseId);
            const feedback = document.getElementById('feedback' + exerciseId);
            const userAnswer = parseFloat(input.value.trim());

            if (isNaN(userAnswer)) {
                feedback.className = 'feedback error';
                feedback.textContent = 'Por favor, ingresa una respuesta num√©rica.';
                feedback.style.display = 'block';
                return;
            }

            const correctValue = parseFloat(exercise.correct);
            const tolerance = exercise.tolerance || 0.01;
            const isCorrect = Math.abs(userAnswer - correctValue) <= tolerance;
            
            if (isCorrect) {
                feedback.className = 'feedback success';
                feedback.textContent = '¬°Correcto! ‚ú® +10 puntos';
                input.disabled = true;
                Gamification.completeExercise(MODULE_ID, true);
            } else {
                feedback.className = 'feedback error';
                feedback.textContent = 'Incorrecto. Intenta de nuevo o usa la pista. -5 puntos';
                Gamification.completeExercise(MODULE_ID, false);
            }
            
            feedback.style.display = 'block';
            Gamification.updateDisplay(MODULE_ID);
        }

        function showHint(exerciseId) {
            const hint = document.getElementById('hint' + exerciseId);
            hint.style.display = hint.style.display === 'none' ? 'block' : 'none';
        }

        // Exam questions
        const examQuestions = [
            { id: 1, question: 'Un tri√°ngulo rect√°ngulo tiene catetos 6 y 8. ¬øCu√°l es la hipotenusa?', correct: '10' },
            { id: 2, question: '¬øCu√°nto vale sin(45¬∞)? (aproxima a 2 decimales, ej: 0.71)', correct: '0.71', tolerance: 0.01 },
            { id: 3, question: 'Convertir 180¬∞ a radianes (aproxima a 2 decimales)', correct: '3.14', tolerance: 0.01 },
            { id: 4, question: 'Si cos(Œ±) = 0.8 e hipotenusa = 5, ¬øcateto adyacente = ?', correct: '4' },
            { id: 5, question: '¬øCu√°nto vale tan(60¬∞)? (aproxima a 2 decimales)', correct: '1.73', tolerance: 0.02 },
            { id: 6, question: 'Tri√°ngulos semejantes raz√≥n 1:3, si menor tiene lado 5, ¬ølado del mayor?', correct: '15' },
            { id: 7, question: '¬øCu√°nto vale cos(0¬∞)?', correct: '1' },
            { id: 8, question: 'Convertir œÄ/2 radianes a grados', correct: '90' },
            { id: 9, question: 'Si sin(Œ±) = 0.6, ¬øcu√°nto vale cos(Œ±)? (positivo, 1 decimal)', correct: '0.8' },
            { id: 10, question: 'Catetos 9 y 12, hipotenusa = ?', correct: '15' },
            { id: 11, question: '¬øCu√°nto vale sin(90¬∞)?', correct: '1' },
            { id: 12, question: 'Convertir 45¬∞ a radianes (aproxima a 2 decimales)', correct: '0.79', tolerance: 0.01 },
            { id: 13, question: 'Si tan(Œ±) = 1, ¬øŒ± = ? (en grados)', correct: '45' },
            { id: 14, question: '¬øCu√°nto vale sin(0¬∞)?', correct: '0' },
            { id: 15, question: 'Catetos iguales de 7, hipotenusa = ? (aproxima a 1 decimal)', correct: '9.9', tolerance: 0.1 },
            { id: 16, question: '¬øCu√°nto vale cos(90¬∞)?', correct: '0' },
            { id: 17, question: 'Convertir œÄ radianes a grados', correct: '180' },
            { id: 18, question: 'Si hipotenusa = 13 y un cateto = 5, ¬øel otro cateto?', correct: '12' },
            { id: 19, question: '¬øCu√°nto vale sin(30¬∞) + cos(60¬∞)?', correct: '1' },
            { id: 20, question: 'Semejanza raz√≥n 2:5, menor per√≠metro 10, ¬ømayor per√≠metro?', correct: '25' }
        ];

        function loadExam() {
            const container = document.getElementById('exam-container');
            container.innerHTML = examQuestions.map(q => `
                <div class="exercise-card">
                    <h4>Pregunta ${q.id}</h4>
                    <p>${q.question}</p>
                    <input type="number" step="any" id="exam${q.id}" class="input-field" placeholder="Tu respuesta">
                    <div id="examfeedback${q.id}" class="feedback"></div>
                </div>
            `).join('') + `
                <button class="btn btn-primary btn-large" onclick="submitExam()" style="margin-top: 2rem;">Enviar Examen</button>
            `;
        }

        function submitExam() {
            let correct = 0;
            const total = examQuestions.length;

            examQuestions.forEach(q => {
                const input = document.getElementById('exam' + q.id);
                const feedback = document.getElementById('examfeedback' + q.id);
                const userAnswer = parseFloat(input.value.trim());
                const correctValue = parseFloat(q.correct);
                const tolerance = q.tolerance || 0.01;
                
                if (!isNaN(userAnswer) && Math.abs(userAnswer - correctValue) <= tolerance) {
                    correct++;
                    feedback.className = 'feedback success';
                    feedback.textContent = '‚úì Correcto';
                } else {
                    feedback.className = 'feedback error';
                    feedback.textContent = `‚úó Incorrecto (Respuesta: ${q.correct})`;
                }
                feedback.style.display = 'block';
                input.disabled = true;
            });

            const percentage = (correct / total) * 100;
            const passed = percentage >= 70;

            document.getElementById('exam-container').style.display = 'none';
            document.getElementById('exam-results').style.display = 'block';
            document.getElementById('results-title').textContent = passed ? 'üéâ ¬°Examen Aprobado!' : 'üìö Examen No Aprobado';
            document.getElementById('results-text').textContent = passed ? 
                '¬°Felicitaciones! Has demostrado dominio de la geometr√≠a y trigonometr√≠a.' :
                'Necesitas repasar m√°s. Revisa la teor√≠a e intenta nuevamente.';
            document.getElementById('results-score').textContent = `Puntuaci√≥n: ${correct}/${total} (${percentage.toFixed(1)}%)`;

            if (passed) {
                Gamification.completeLesson(MODULE_ID);
                Gamification.awardTrophy(MODULE_ID, 'Maestro de Geometr√≠a y Trigonometr√≠a');
            }

            Gamification.updateDisplay(MODULE_ID);
        }

        function retakeExam() {
            document.getElementById('exam-results').style.display = 'none';
            document.getElementById('exam-container').style.display = 'block';
            examQuestions.forEach(q => {
                const input = document.getElementById('exam' + q.id);
                const feedback = document.getElementById('examfeedback' + q.id);
                input.value = '';
                input.disabled = false;
                feedback.style.display = 'none';
            });
        }

        // Interactive tools
        function calculatePythagorean() {
            const a = parseFloat(document.getElementById('cateto-a').value);
            const b = parseFloat(document.getElementById('cateto-b').value);
            const result = document.getElementById('pythag-result');
            
            if (isNaN(a) || isNaN(b)) {
                result.textContent = '‚ö†Ô∏è Por favor, completa ambos catetos';
                return;
            }
            
            const c = Math.sqrt(a * a + b * b);
            result.innerHTML = `
                <strong>C√°lculo:</strong> ‚àö(${a}¬≤ + ${b}¬≤) = ‚àö(${a*a} + ${b*b}) = ‚àö${a*a + b*b}<br>
                <strong>Hipotenusa:</strong> c = ${c.toFixed(2)}
            `;
        }

        function convertAngle() {
            const value = parseFloat(document.getElementById('angle-value').value);
            const from = document.getElementById('angle-from').value;
            const result = document.getElementById('angle-result');
            
            if (isNaN(value)) {
                result.textContent = '‚ö†Ô∏è Por favor, ingresa un valor';
                return;
            }
            
            if (from === 'deg') {
                const rad = value * Math.PI / 180;
                result.innerHTML = `
                    <strong>${value}¬∞</strong> = <strong>${rad.toFixed(4)} radianes</strong><br>
                    Equivalente a ${(value / 180).toFixed(3)}œÄ rad
                `;
            } else {
                const deg = value * 180 / Math.PI;
                result.innerHTML = `
                    <strong>${value} rad</strong> = <strong>${deg.toFixed(2)}¬∞</strong><br>
                    Equivalente a ${(value / Math.PI).toFixed(3)}œÄ rad
                `;
            }
        }

        function calculateTrig() {
            const angleDeg = parseFloat(document.getElementById('trig-angle').value);
            const result = document.getElementById('trig-result');
            
            if (isNaN(angleDeg)) {
                result.textContent = '‚ö†Ô∏è Por favor, ingresa un √°ngulo';
                return;
            }
            
            const angleRad = angleDeg * Math.PI / 180;
            const sinVal = Math.sin(angleRad);
            const cosVal = Math.cos(angleRad);
            const tanVal = Math.tan(angleRad);
            
            result.innerHTML = `
                <strong>√Ångulo:</strong> ${angleDeg}¬∞ (${angleRad.toFixed(4)} rad)<br>
                <strong>sin(${angleDeg}¬∞):</strong> ${sinVal.toFixed(4)}<br>
                <strong>cos(${angleDeg}¬∞):</strong> ${cosVal.toFixed(4)}<br>
                <strong>tan(${angleDeg}¬∞):</strong> ${Math.abs(tanVal) > 1000 ? '‚àû' : tanVal.toFixed(4)}
            `;
        }
    </script>
</body>
</html>

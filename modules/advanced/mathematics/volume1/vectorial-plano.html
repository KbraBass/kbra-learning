<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geometr√≠a Vectorial del Plano - Matem√°ticas Avanzadas</title>
    <link rel="stylesheet" href="../../../../css/core.css">
    <link rel="stylesheet" href="../../../../css/components.css">
</head>
<body>
    <div id="header-container"></div>
    <div id="tabs-container"></div>
    <div id="score-container"></div>

    <div class="container">
        <!-- Tab 1: Glosario -->
        <div class="content-section active" id="glosario">
            <h2>üìñ Glosario de Geometr√≠a Vectorial del Plano</h2>
            
            <div class="info-box bg-gradient-primary-white">
                <p>Aprende los t√©rminos clave relacionados con vectores en el plano:</p>
            </div>

            <div class="definition-card">
                <h3>üî∑ Vector</h3>
                <p><strong>Definici√≥n:</strong> Segmento orientado en el plano caracterizado por m√≥dulo (longitud), direcci√≥n y sentido.</p>
                <p><strong>Ejemplo:</strong> v‚Éó = (3, 4) representa un vector con componentes 3 y 4</p>
            </div>

            <div class="definition-card">
                <h3>üî∑ M√≥dulo</h3>
                <p><strong>Definici√≥n:</strong> Longitud o magnitud de un vector. Se calcula usando el teorema de Pit√°goras.</p>
                <p><strong>Ejemplo:</strong> |v‚Éó| = ‚àö(3¬≤ + 4¬≤) = ‚àö25 = 5</p>
            </div>

            <div class="definition-card">
                <h3>üî∑ Producto Escalar</h3>
                <p><strong>Definici√≥n:</strong> Operaci√≥n entre dos vectores que resulta en un n√∫mero real. Se usa para calcular √°ngulos y determinar perpendicularidad.</p>
                <p><strong>Ejemplo:</strong> v‚Éó ¬∑ u‚Éó = (2)(3) + (4)(1) = 10</p>
            </div>

            <div class="definition-card">
                <h3>üî∑ Vectores Ortogonales</h3>
                <p><strong>Definici√≥n:</strong> Vectores perpendiculares entre s√≠. Su producto escalar es cero.</p>
                <p><strong>Ejemplo:</strong> v‚Éó = (3, -2) y u‚Éó = (2, 3) son ortogonales porque 3(2) + (-2)(3) = 0</p>
            </div>

            <div class="definition-card">
                <h3>üî∑ Vector Unitario</h3>
                <p><strong>Definici√≥n:</strong> Vector de m√≥dulo 1 que indica una direcci√≥n pura. Se obtiene dividiendo un vector por su m√≥dulo.</p>
                <p><strong>Ejemplo:</strong> Si v‚Éó = (3, 4), entonces √ª = v‚Éó/|v‚Éó| = (3/5, 4/5)</p>
            </div>
        </div>

        <!-- Tab 2: S√≠mbolos -->
        <div class="content-section" id="simbolos">
            <h2>üî£ S√≠mbolos en Geometr√≠a Vectorial</h2>
            
            <div class="info-box bg-gradient-primary-white">
                <p>Conoce la notaci√≥n matem√°tica utilizada en vectores del plano:</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-display">v‚Éó, u‚Éó, w‚Éó</div>
                <div class="symbol-info">
                    <h3>Vectores</h3>
                    <p><strong>Significado:</strong> Letras min√∫sculas con flecha superior para representar vectores</p>
                    <p><strong>Uso:</strong> v‚Éó = (2, 3)</p>
                </div>
            </div>

            <div class="symbol-card">
                <div class="symbol-display">(x, y)</div>
                <div class="symbol-info">
                    <h3>Componentes</h3>
                    <p><strong>Significado:</strong> Representaci√≥n de vector en coordenadas cartesianas</p>
                    <p><strong>Uso:</strong> v‚Éó = (v<sub>x</sub>, v<sub>y</sub>)</p>
                </div>
            </div>

            <div class="symbol-card">
                <div class="symbol-display">|v‚Éó|</div>
                <div class="symbol-info">
                    <h3>M√≥dulo</h3>
                    <p><strong>Significado:</strong> Longitud o magnitud del vector</p>
                    <p><strong>Uso:</strong> |v‚Éó| = ‚àö(x¬≤ + y¬≤)</p>
                </div>
            </div>

            <div class="symbol-card">
                <div class="symbol-display">v‚Éó ¬∑ u‚Éó</div>
                <div class="symbol-info">
                    <h3>Producto Escalar</h3>
                    <p><strong>Significado:</strong> Operaci√≥n que multiplica dos vectores y devuelve un escalar</p>
                    <p><strong>Uso:</strong> v‚Éó ¬∑ u‚Éó = v<sub>x</sub>u<sub>x</sub> + v<sub>y</sub>u<sub>y</sub></p>
                </div>
            </div>

            <div class="symbol-card">
                <div class="symbol-display">‚ä•</div>
                <div class="symbol-info">
                    <h3>Perpendicular/Ortogonal</h3>
                    <p><strong>Significado:</strong> Indica que dos vectores forman un √°ngulo de 90¬∞</p>
                    <p><strong>Uso:</strong> v‚Éó ‚ä• u‚Éó ‚ü∫ v‚Éó ¬∑ u‚Éó = 0</p>
                </div>
            </div>

            <div class="symbol-card">
                <div class="symbol-display">‚à•</div>
                <div class="symbol-info">
                    <h3>Paralelo</h3>
                    <p><strong>Significado:</strong> Indica que dos vectores tienen la misma direcci√≥n</p>
                    <p><strong>Uso:</strong> v‚Éó ‚à• u‚Éó ‚ü∫ v‚Éó = Œªu‚Éó</p>
                </div>
            </div>

            <div class="symbol-card">
                <div class="symbol-display">Œª (lambda)</div>
                <div class="symbol-info">
                    <h3>Escalar/Par√°metro</h3>
                    <p><strong>Significado:</strong> N√∫mero real que multiplica a un vector</p>
                    <p><strong>Uso:</strong> Œªv‚Éó = (Œªv<sub>x</sub>, Œªv<sub>y</sub>)</p>
                </div>
            </div>
        </div>

        <!-- Tab 3: Introducci√≥n -->
        <div class="content-section" id="introduccion">
            <h2>üåç Introducci√≥n a los Vectores en el Plano</h2>
            
            <div class="info-box bg-gradient-primary-white">
                <p><strong>Los vectores son herramientas fundamentales en matem√°ticas y ciencias que permiten representar magnitudes con direcci√≥n y sentido.</strong></p>
            </div>

            <div class="application-card">
                <h3>üéÆ Videojuegos y Gr√°ficos</h3>
                <p>Los vectores son esenciales en desarrollo de videojuegos para:</p>
                <ul>
                    <li>Representar posiciones y movimientos de objetos</li>
                    <li>Calcular trayectorias de proyectiles</li>
                    <li>Detectar colisiones entre personajes</li>
                    <li>Simular f√≠sica realista (velocidad, aceleraci√≥n, fuerzas)</li>
                </ul>
            </div>

            <div class="application-card">
                <h3>‚úàÔ∏è Navegaci√≥n y GPS</h3>
                <p>Los vectores se utilizan en sistemas de navegaci√≥n para:</p>
                <ul>
                    <li>Calcular distancias m√°s cortas entre puntos</li>
                    <li>Determinar rumbos y direcciones</li>
                    <li>Planificar rutas √≥ptimas</li>
                    <li>Corregir desviaciones en el trayecto</li>
                </ul>
            </div>

            <div class="application-card">
                <h3>üèóÔ∏è Ingenier√≠a y Arquitectura</h3>
                <p>En ingenier√≠a civil y arquitectura, los vectores ayudan a:</p>
                <ul>
                    <li>Analizar fuerzas en estructuras</li>
                    <li>Calcular momentos y tensiones</li>
                    <li>Dise√±ar sistemas de soporte</li>
                    <li>Optimizar distribuci√≥n de cargas</li>
                </ul>
            </div>

            <div class="application-card">
                <h3>ü§ñ Rob√≥tica y Automatizaci√≥n</h3>
                <p>Los robots usan vectores para:</p>
                <ul>
                    <li>Planificar movimientos en el espacio</li>
                    <li>Calcular orientaciones de brazos mec√°nicos</li>
                    <li>Navegar de forma aut√≥noma</li>
                    <li>Evitar obst√°culos en tiempo real</li>
                </ul>
            </div>

            <div class="application-card">
                <h3>üî¨ F√≠sica</h3>
                <p>En f√≠sica, los vectores representan:</p>
                <ul>
                    <li>Fuerzas (gravedad, fricci√≥n, tensi√≥n)</li>
                    <li>Velocidades y aceleraciones</li>
                    <li>Campos electromagn√©ticos</li>
                    <li>Momentos lineales y angulares</li>
                </ul>
            </div>
        </div>

        <!-- Tab 4: Teor√≠a y Pr√°ctica -->
        <div class="content-section" id="teoria">
            <h2>üìö Teor√≠a y Pr√°ctica: Geometr√≠a Vectorial</h2>

            <div class="info-box bg-gradient-primary-white">
                <h4 class="white-text-mt0">Contenido de la Lecci√≥n</h4>
                <p>Aprender√°s sobre vectores en el plano, sus operaciones y aplicaciones</p>
            </div>

            <h3>1. Vectores en el Plano</h3>
            <div class="info-box">
                <h4>Definici√≥n y Representaci√≥n</h4>
                <p>Un vector en el plano ‚Ñù¬≤ es un segmento orientado caracterizado por:</p>
                <ul>
                    <li><strong>M√≥dulo:</strong> Longitud del vector</li>
                    <li><strong>Direcci√≥n:</strong> Recta que lo contiene</li>
                    <li><strong>Sentido:</strong> Orientaci√≥n de la flecha</li>
                </ul>
                <div class="formula-box">
                    v‚Éó = (v<sub>x</sub>, v<sub>y</sub>)<br>
                    |v‚Éó| = ‚àö(v<sub>x</sub>¬≤ + v<sub>y</sub>¬≤)
                </div>
            </div>

            <h3>2. Calculadora: M√≥dulo de un Vector</h3>
            <div class="calculator-box">
                <h4>üìê Calcula el m√≥dulo de un vector</h4>
                <div class="calc-inputs">
                    <div class="input-group">
                        <label>Componente x:</label>
                        <input type="number" id="calc-modulo-x" value="3" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Componente y:</label>
                        <input type="number" id="calc-modulo-y" value="4" step="0.1">
                    </div>
                    <button class="btn-calculate" onclick="calcularModulo()">Calcular |v‚Éó|</button>
                </div>
                <div id="resultado-modulo" class="calc-result"></div>
            </div>

            <h3>3. Operaciones con Vectores</h3>
            <div class="info-box">
                <h4>Suma y Producto por Escalar</h4>
                <div class="formula-box">
                    <strong>Suma:</strong> v‚Éó + u‚Éó = (v<sub>x</sub> + u<sub>x</sub>, v<sub>y</sub> + u<sub>y</sub>)<br>
                    <strong>Producto por escalar:</strong> Œª¬∑v‚Éó = (Œªv<sub>x</sub>, Œªv<sub>y</sub>)<br>
                    <strong>Resta:</strong> v‚Éó - u‚Éó = (v<sub>x</sub> - u<sub>x</sub>, v<sub>y</sub> - u<sub>y</sub>)
                </div>
            </div>

            <h3>4. Calculadora: Operaciones con Vectores</h3>
            <div class="calculator-box">
                <h4>‚ûï Suma y resta de vectores</h4>
                <div class="calc-inputs">
                    <div class="input-row">
                        <div class="input-group">
                            <label>v‚Éó = (</label>
                            <input type="number" id="calc-op-vx" value="2" step="0.1" style="width: 60px;">
                            <label>,</label>
                            <input type="number" id="calc-op-vy" value="3" step="0.1" style="width: 60px;">
                            <label>)</label>
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label>u‚Éó = (</label>
                            <input type="number" id="calc-op-ux" value="1" step="0.1" style="width: 60px;">
                            <label>,</label>
                            <input type="number" id="calc-op-uy" value="-2" step="0.1" style="width: 60px;">
                            <label>)</label>
                        </div>
                    </div>
                    <div class="button-group">
                        <button class="btn-calculate" onclick="calcularSuma()">v‚Éó + u‚Éó</button>
                        <button class="btn-calculate" onclick="calcularResta()">v‚Éó - u‚Éó</button>
                    </div>
                </div>
                <div id="resultado-operaciones" class="calc-result"></div>
            </div>

            <h3>5. Producto Escalar</h3>
            <div class="info-box">
                <h4>Definici√≥n y Propiedades</h4>
                <p>El producto escalar de dos vectores es un n√∫mero real:</p>
                <div class="formula-box">
                    v‚Éó ¬∑ u‚Éó = v<sub>x</sub>¬∑u<sub>x</sub> + v<sub>y</sub>¬∑u<sub>y</sub> = |v‚Éó|¬∑|u‚Éó|¬∑cos(Œ±)
                </div>
                <div class="exam-important">
                    <strong>Vectores perpendiculares:</strong> v‚Éó ‚ä• u‚Éó ‚ü∫ v‚Éó ¬∑ u‚Éó = 0
                </div>
            </div>

            <h3>6. Calculadora: Producto Escalar y √Ångulo</h3>
            <div class="calculator-box">
                <h4>üìè Producto escalar y √°ngulo entre vectores</h4>
                <div class="calc-inputs">
                    <div class="input-row">
                        <div class="input-group">
                            <label>v‚Éó = (</label>
                            <input type="number" id="calc-pe-vx" value="3" step="0.1" style="width: 60px;">
                            <label>,</label>
                            <input type="number" id="calc-pe-vy" value="4" step="0.1" style="width: 60px;">
                            <label>)</label>
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label>u‚Éó = (</label>
                            <input type="number" id="calc-pe-ux" value="1" step="0.1" style="width: 60px;">
                            <label>,</label>
                            <input type="number" id="calc-pe-uy" value="2" step="0.1" style="width: 60px;">
                            <label>)</label>
                        </div>
                    </div>
                    <button class="btn-calculate" onclick="calcularProductoEscalar()">Calcular v‚Éó ¬∑ u‚Éó y √°ngulo</button>
                </div>
                <div id="resultado-producto-escalar" class="calc-result"></div>
            </div>

            <h3>7. Vectores Unitarios</h3>
            <div class="info-box">
                <p>Un vector unitario tiene m√≥dulo 1. Para obtenerlo:</p>
                <div class="formula-box">
                    √ª = v‚Éó / |v‚Éó| = (v<sub>x</sub>/|v‚Éó|, v<sub>y</sub>/|v‚Éó|)
                </div>
            </div>

            <h3>8. Ecuaciones de la Recta</h3>
            <table class="comparison-table">
                <thead>
                    <tr><th>Forma</th><th>Ecuaci√≥n</th></tr>
                </thead>
                <tbody>
                    <tr><td><strong>Vectorial</strong></td><td>(x,y) = (x‚ÇÄ,y‚ÇÄ) + Œª(v<sub>x</sub>,v<sub>y</sub>)</td></tr>
                    <tr><td><strong>Param√©tricas</strong></td><td>x = x‚ÇÄ + Œªv<sub>x</sub> ; y = y‚ÇÄ + Œªv<sub>y</sub></td></tr>
                    <tr><td><strong>Continua</strong></td><td>(x-x‚ÇÄ)/v<sub>x</sub> = (y-y‚ÇÄ)/v<sub>y</sub></td></tr>
                    <tr><td><strong>General</strong></td><td>Ax + By + C = 0</td></tr>
                    <tr><td><strong>Expl√≠cita</strong></td><td>y = mx + n</td></tr>
                </tbody>
            </table>

            <h3>9. Distancia Punto a Recta</h3>
            <div class="info-box">
                <h4>F√≥rmula</h4>
                <p>Recta: Ax + By + C = 0, Punto: P(x‚ÇÄ,y‚ÇÄ)</p>
                <div class="formula-box">
                    d(P,r) = |Ax‚ÇÄ + By‚ÇÄ + C| / ‚àö(A¬≤ + B¬≤)
                </div>
            </div>
        </div>

        <!-- Tab 5: Entrenamiento -->
        <div class="content-section" id="entrenamiento">
            <h2>üéØ Entrenamiento: Geometr√≠a Vectorial</h2>
            
            <div class="info-box bg-gradient-primary-white">
                <p><strong>Practica con estos ejercicios para mejorar tu comprensi√≥n de vectores.</strong></p>
                <p>‚úÖ Respuesta correcta: +10 puntos | ‚ùå Respuesta incorrecta: -5 puntos</p>
            </div>

            <div id="training-container"></div>
            
            <div class="training-controls">
                <button class="btn-new-question" onclick="generarPreguntaEntrenamiento()">üìù Nueva Pregunta</button>
            </div>
        </div>

        <!-- Tab 6: Examen Final -->
        <div class="content-section" id="examen">
            <h2>üìù Examen Final: Geometr√≠a Vectorial del Plano</h2>
            
            <div class="info-box bg-gradient-primary-white">
                <p>Completa este examen para demostrar tu dominio de la geometr√≠a vectorial del plano.</p>
                <p><strong>Requisitos:</strong> 70% o m√°s para aprobar (14/20 respuestas correctas)</p>
                <p><strong>Recompensa:</strong> Obt√©n el trofeo "Maestro de Vectores" üèÜ</p>
            </div>

            <div id="exam-container"></div>
            
            <div class="exam-controls">
                <button class="btn-submit-exam" onclick="enviarExamen()">Enviar Examen</button>
            </div>

            <div id="exam-result" class="exam-result hidden"></div>
        </div>
    </div>

    <script src="../../../../js/storage.js"></script>
    <script src="../../../../js/gamification.js"></script>
    <script src="../../../../js/components.js"></script>
    <script>
        // ================== CONFIGURACI√ìN DEL M√ìDULO ==================
        const moduleName = 'vectorial-plano';
        const moduleTitle = 'Geometr√≠a Vectorial del Plano';
        const totalQuestions = 20;
        const passingScore = 70;
        const trophyId = 'vectorial-plano';
        const trophyName = 'Maestro de Vectores';

        // ================== INICIALIZACI√ìN ==================
        document.addEventListener('DOMContentLoaded', function() {
            initializeComponents(moduleName, moduleTitle);
            setupTabs(['glosario', 'simbolos', 'introduccion', 'teoria', 'entrenamiento', 'examen']);
        });

        // ================== CALCULADORAS ==================
        function calcularModulo() {
            const vx = parseFloat(document.getElementById('calc-modulo-x').value);
            const vy = parseFloat(document.getElementById('calc-modulo-y').value);
            
            const modulo = Math.sqrt(vx*vx + vy*vy);
            
            document.getElementById('resultado-modulo').innerHTML = `
                <div class="result-success">
                    <h4>‚úÖ Resultado:</h4>
                    <p><strong>Vector:</strong> v‚Éó = (${vx}, ${vy})</p>
                    <p><strong>C√°lculo:</strong> |v‚Éó| = ‚àö(${vx}¬≤ + ${vy}¬≤) = ‚àö${(vx*vx + vy*vy).toFixed(2)}</p>
                    <p class="result-value"><strong>|v‚Éó| = ${modulo.toFixed(3)}</strong></p>
                </div>
            `;
        }

        function calcularSuma() {
            const vx = parseFloat(document.getElementById('calc-op-vx').value);
            const vy = parseFloat(document.getElementById('calc-op-vy').value);
            const ux = parseFloat(document.getElementById('calc-op-ux').value);
            const uy = parseFloat(document.getElementById('calc-op-uy').value);
            
            const rx = vx + ux;
            const ry = vy + uy;
            
            document.getElementById('resultado-operaciones').innerHTML = `
                <div class="result-success">
                    <h4>‚úÖ Suma de vectores:</h4>
                    <p>v‚Éó + u‚Éó = (${vx}, ${vy}) + (${ux}, ${uy})</p>
                    <p class="result-value"><strong>= (${rx}, ${ry})</strong></p>
                </div>
            `;
        }

        function calcularResta() {
            const vx = parseFloat(document.getElementById('calc-op-vx').value);
            const vy = parseFloat(document.getElementById('calc-op-vy').value);
            const ux = parseFloat(document.getElementById('calc-op-ux').value);
            const uy = parseFloat(document.getElementById('calc-op-uy').value);
            
            const rx = vx - ux;
            const ry = vy - uy;
            
            document.getElementById('resultado-operaciones').innerHTML = `
                <div class="result-success">
                    <h4>‚úÖ Resta de vectores:</h4>
                    <p>v‚Éó - u‚Éó = (${vx}, ${vy}) - (${ux}, ${uy})</p>
                    <p class="result-value"><strong>= (${rx}, ${ry})</strong></p>
                </div>
            `;
        }

        function calcularProductoEscalar() {
            const vx = parseFloat(document.getElementById('calc-pe-vx').value);
            const vy = parseFloat(document.getElementById('calc-pe-vy').value);
            const ux = parseFloat(document.getElementById('calc-pe-ux').value);
            const uy = parseFloat(document.getElementById('calc-pe-uy').value);
            
            const producto = vx*ux + vy*uy;
            const moduloV = Math.sqrt(vx*vx + vy*vy);
            const moduloU = Math.sqrt(ux*ux + uy*uy);
            const cosAngulo = producto / (moduloV * moduloU);
            const angulo = Math.acos(cosAngulo) * (180 / Math.PI);
            
            let perpendicularidad = '';
            if (Math.abs(producto) < 0.0001) {
                perpendicularidad = '<p class="text-success"><strong>‚ä• Los vectores son perpendiculares!</strong></p>';
            }
            
            document.getElementById('resultado-producto-escalar').innerHTML = `
                <div class="result-success">
                    <h4>‚úÖ Resultado:</h4>
                    <p><strong>Producto escalar:</strong> v‚Éó ¬∑ u‚Éó = ${vx}√ó${ux} + ${vy}√ó${uy} = <strong>${producto.toFixed(3)}</strong></p>
                    <p><strong>|v‚Éó| =</strong> ${moduloV.toFixed(3)}</p>
                    <p><strong>|u‚Éó| =</strong> ${moduloU.toFixed(3)}</p>
                    <p><strong>√Ångulo entre vectores:</strong> ${angulo.toFixed(2)}¬∞</p>
                    ${perpendicularidad}
                </div>
            `;
        }

        // ================== BANCO DE PREGUNTAS ==================
        const bankPreguntas = [
            {
                pregunta: "Si v‚Éó = (3, 4), ¬øcu√°l es el m√≥dulo |v‚Éó|?",
                opciones: ["3", "4", "5", "7"],
                respuesta: 2
            },
            {
                pregunta: "¬øCu√°l es el resultado de (2, 3) + (1, -1)?",
                opciones: ["(3, 2)", "(1, 4)", "(2, 2)", "(3, 4)"],
                respuesta: 0
            },
            {
                pregunta: "Si v‚Éó = (4, 0), ¬øcu√°l es |v‚Éó|?",
                opciones: ["0", "4", "8", "16"],
                respuesta: 1
            },
            {
                pregunta: "¬øCu√°nto es 3 √ó (2, 1)?",
                opciones: ["(5, 4)", "(6, 3)", "(6, 1)", "(2, 3)"],
                respuesta: 1
            },
            {
                pregunta: "Si v‚Éó = (1, 2) y u‚Éó = (3, -1), ¬øcu√°nto es v‚Éó ¬∑ u‚Éó?",
                opciones: ["1", "2", "3", "4"],
                respuesta: 0
            },
            {
                pregunta: "¬øSon perpendiculares v‚Éó = (2, 3) y u‚Éó = (3, -2)?",
                opciones: ["S√≠", "No", "A veces", "No se puede determinar"],
                respuesta: 0
            },
            {
                pregunta: "¬øCu√°l es el vector unitario de (3, 0)?",
                opciones: ["(1, 0)", "(0, 1)", "(3, 0)", "(0, 3)"],
                respuesta: 0
            },
            {
                pregunta: "Si v‚Éó = (5, 12), ¬øcu√°l es |v‚Éó|?",
                opciones: ["7", "13", "17", "60"],
                respuesta: 1
            },
            {
                pregunta: "¬øCu√°nto es (5, 2) - (3, 1)?",
                opciones: ["(2, 1)", "(8, 3)", "(2, 3)", "(1, 2)"],
                respuesta: 0
            },
            {
                pregunta: "¬øCu√°l es la componente x de 2(4, -1)?",
                opciones: ["2", "4", "6", "8"],
                respuesta: 3
            },
            {
                pregunta: "Si v‚Éó ¬∑ u‚Éó = 0, ¬øqu√© relaci√≥n tienen v‚Éó y u‚Éó?",
                opciones: ["Son paralelos", "Son perpendiculares", "Son iguales", "Ninguna"],
                respuesta: 1
            },
            {
                pregunta: "¬øCu√°l es |v‚Éó| si v‚Éó = (0, 5)?",
                opciones: ["0", "5", "10", "25"],
                respuesta: 1
            },
            {
                pregunta: "¬øCu√°nto es (1, 1) + (1, 1)?",
                opciones: ["(1, 1)", "(2, 2)", "(1, 2)", "(2, 1)"],
                respuesta: 1
            },
            {
                pregunta: "Si v‚Éó = (6, 8), ¬øcu√°l es |v‚Éó|?",
                opciones: ["10", "14", "48", "100"],
                respuesta: 0
            },
            {
                pregunta: "¬øCu√°nto es -1 √ó (3, -2)?",
                opciones: ["(3, -2)", "(-3, 2)", "(-3, -2)", "(3, 2)"],
                respuesta: 1
            },
            {
                pregunta: "Si v‚Éó = (1, 0) y u‚Éó = (0, 1), ¬øcu√°nto es v‚Éó ¬∑ u‚Éó?",
                opciones: ["0", "1", "-1", "2"],
                respuesta: 0
            },
            {
                pregunta: "¬øCu√°l es el m√≥dulo de (1, 1)?",
                opciones: ["1", "‚àö2", "2", "‚àö3"],
                respuesta: 1
            },
            {
                pregunta: "¬øCu√°nto es (4, 3) - (2, 1)?",
                opciones: ["(2, 2)", "(6, 4)", "(2, 4)", "(4, 2)"],
                respuesta: 0
            },
            {
                pregunta: "Si |v‚Éó| = 1, ¬øc√≥mo se llama v‚Éó?",
                opciones: ["Vector nulo", "Vector unitario", "Vector perpendicular", "Vector paralelo"],
                respuesta: 1
            },
            {
                pregunta: "¬øCu√°nto es (2, 0) + (0, 3)?",
                opciones: ["(2, 3)", "(0, 0)", "(2, 0)", "(0, 3)"],
                respuesta: 0
            },
            {
                pregunta: "Si v‚Éó = (1, 2) y u‚Éó = (2, 4), ¬øqu√© relaci√≥n tienen?",
                opciones: ["Perpendiculares", "Paralelos", "Ortogonales", "Ninguna"],
                respuesta: 1
            },
            {
                pregunta: "¬øCu√°l es |v‚Éó| si v‚Éó = (1, 0)?",
                opciones: ["0", "1", "2", "‚àö2"],
                respuesta: 1
            },
            {
                pregunta: "¬øCu√°nto es 0 √ó (5, 3)?",
                opciones: ["(5, 3)", "(0, 0)", "(5, 0)", "(0, 3)"],
                respuesta: 1
            },
            {
                pregunta: "Si v‚Éó = (8, 15), ¬øcu√°l es |v‚Éó|?",
                opciones: ["17", "23", "120", "289"],
                respuesta: 0
            },
            {
                pregunta: "¬øCu√°nto es (7, 2) - (7, 2)?",
                opciones: ["(0, 0)", "(14, 4)", "(7, 2)", "(0, 4)"],
                respuesta: 0
            }
        ];

        // ================== ENTRENAMIENTO ==================
        let currentTrainingQuestion = null;

        function generarPreguntaEntrenamiento() {
            const index = Math.floor(Math.random() * bankPreguntas.length);
            currentTrainingQuestion = { ...bankPreguntas[index], index };
            
            const container = document.getElementById('training-container');
            container.innerHTML = `
                <div class="question-card">
                    <h3>Pregunta:</h3>
                    <p class="question-text">${currentTrainingQuestion.pregunta}</p>
                    <div class="options-container">
                        ${currentTrainingQuestion.opciones.map((opcion, i) => `
                            <button class="option-button" onclick="verificarRespuestaEntrenamiento(${i})">${opcion}</button>
                        `).join('')}
                    </div>
                    <div id="training-feedback"></div>
                </div>
            `;
        }

        function verificarRespuestaEntrenamiento(opcionSeleccionada) {
            const esCorrecta = opcionSeleccionada === currentTrainingQuestion.respuesta;
            const puntosGanados = esCorrecta ? 10 : -5;
            
            updateScore(puntosGanados);
            
            const feedbackDiv = document.getElementById('training-feedback');
            if (esCorrecta) {
                feedbackDiv.innerHTML = `
                    <div class="feedback-correct">
                        <p>‚úÖ ¬°Correcto! +10 puntos</p>
                        <p>Respuesta: ${currentTrainingQuestion.opciones[currentTrainingQuestion.respuesta]}</p>
                    </div>
                `;
            } else {
                feedbackDiv.innerHTML = `
                    <div class="feedback-incorrect">
                        <p>‚ùå Incorrecto. -5 puntos</p>
                        <p>Respuesta correcta: ${currentTrainingQuestion.opciones[currentTrainingQuestion.respuesta]}</p>
                    </div>
                `;
            }
            
            // Deshabilitar botones
            document.querySelectorAll('.option-button').forEach(btn => btn.disabled = true);
        }

        // ================== EXAMEN FINAL ==================
        let examQuestions = [];
        let examAnswers = [];

        function generarExamen() {
            // Seleccionar 20 preguntas aleatorias
            const shuffled = [...bankPreguntas].sort(() => Math.random() - 0.5);
            examQuestions = shuffled.slice(0, totalQuestions);
            examAnswers = new Array(totalQuestions).fill(null);
            
            const container = document.getElementById('exam-container');
            container.innerHTML = examQuestions.map((q, index) => `
                <div class="exam-question">
                    <h4>Pregunta ${index + 1}:</h4>
                    <p>${q.pregunta}</p>
                    <div class="exam-options">
                        ${q.opciones.map((opcion, i) => `
                            <label class="exam-option">
                                <input type="radio" name="q${index}" value="${i}" 
                                       onchange="examAnswers[${index}] = ${i}">
                                ${opcion}
                            </label>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function enviarExamen() {
            // Verificar que todas las preguntas fueron respondidas
            if (examAnswers.includes(null)) {
                alert('Por favor responde todas las preguntas antes de enviar el examen.');
                return;
            }
            
            // Calcular puntuaci√≥n
            let correctas = 0;
            examQuestions.forEach((q, index) => {
                if (examAnswers[index] === q.respuesta) {
                    correctas++;
                }
            });
            
            const porcentaje = (correctas / totalQuestions) * 100;
            const aprobado = porcentaje >= passingScore;
            
            // Guardar resultado
            saveExamResult(moduleName, {
                score: porcentaje,
                correctas: correctas,
                total: totalQuestions,
                passed: aprobado,
                attempts: (getExamResult(moduleName)?.attempts || 0) + 1
            });
            
            // Otorgar trofeo si aprob√≥
            if (aprobado) {
                awardTrophy(trophyId, trophyName);
            }
            
            // Mostrar resultado
            const resultDiv = document.getElementById('exam-result');
            resultDiv.className = 'exam-result';
            resultDiv.innerHTML = `
                <div class="result-${aprobado ? 'success' : 'fail'}">
                    <h3>${aprobado ? 'üéâ ¬°Felicitaciones!' : 'üìö Sigue practicando'}</h3>
                    <p class="score-display">${correctas}/${totalQuestions} correctas (${porcentaje.toFixed(1)}%)</p>
                    <p>${aprobado ? 
                        `¬°Has aprobado! Has ganado el trofeo "${trophyName}" üèÜ` : 
                        `Necesitas ${passingScore}% para aprobar. ¬°Intenta de nuevo!`}</p>
                    ${aprobado ? '' : '<button class="btn-retry" onclick="location.reload()">Reintentar Examen</button>'}
                </div>
            `;
            
            // Deshabilitar env√≠o
            document.querySelector('.btn-submit-exam').disabled = true;
        }

        // Generar examen al cargar la pesta√±a
        document.addEventListener('DOMContentLoaded', function() {
            generarExamen();
            generarPreguntaEntrenamiento();
        });
    </script>
</body>
</html>

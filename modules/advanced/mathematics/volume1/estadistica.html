<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 1: Estad√≠stica y Probabilidad - Matem√°ticas Avanzadas</title>
    <link rel="stylesheet" href="../../../../css/core.css">
    <link rel="stylesheet" href="../../../../css/components.css">
</head>
<body>
    <div id="header-container"></div>
    <div id="tabs-container"></div>
    <div id="score-container"></div>

    <div class="container">
        <div class="warning-box">
            <h3>‚ö†Ô∏è Nota Importante</h3>
            <p><strong>Este tema NO es materia de examen</strong>, excepto:</p>
            <ul>
                <li>‚úÖ Principios B√°sicos de Combinatoria (Secci√≥n 1.4)</li>
                <li>‚úÖ F√≥rmula de combinaciones sin repetici√≥n (Secci√≥n 1.5.3)</li>
            </ul>
        </div>

        <!-- Teor√≠a -->
        <div class="content-section active" id="teoria">
            <h2>üìö Teor√≠a: Principios de Combinatoria</h2>

            <div class="symbol-glossary">
                <h3>üìñ Glosario de S√≠mbolos Matem√°ticos</h3>
                <p style="margin-bottom: 1.5rem;">S√≠mbolos utilizados en Combinatoria:</p>
                <ul class="symbol-list">
                    <li><strong>n!</strong> = Factorial de n = n √ó (n-1) √ó (n-2) √ó ... √ó 2 √ó 1</li>
                    <li><strong>0!</strong> = 1 (por definici√≥n)</li>
                    <li><strong>P(n)</strong> = Permutaciones de n elementos (orden importa)</li>
                    <li><strong>V(n,r)</strong> = Variaciones: ordenar r de n elementos</li>
                    <li><strong>C(n,r)</strong> = Combinaciones: seleccionar r de n elementos (orden NO importa)</li>
                    <li><strong>(n r)</strong> = Notaci√≥n alternativa para C(n,r) (coeficiente binomial)</li>
                    <li><strong>m √ó n</strong> = Multiplicaci√≥n (principio multiplicativo)</li>
                    <li><strong>m + n</strong> = Adici√≥n (principio aditivo)</li>
                    <li><strong>‚â†</strong> = Distinto de / no igual a</li>
                    <li><strong>‚àà</strong> = Pertenece a (ejemplo: r ‚àà ‚Ñï)</li>
                </ul>
                <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 2px solid rgba(255,255,255,0.3);">
                    <p><strong>Ejemplo de lectura:</strong><br>
                    C(5,2) = 5!/(2!√ó3!) se lee: "Combinaciones de 5 elementos tomados de 2 en 2 es igual a 5 factorial dividido por 2 factorial por 3 factorial"</p>
                </div>
            </div>

            <h3>1. Principios B√°sicos de Conteo</h3>
            
            <div class="concept-box">
                <h4>Principio de Multiplicaci√≥n</h4>
                <p>Si un evento puede ocurrir de <strong>m</strong> maneras diferentes y, despu√©s de que esto suceda, 
                un segundo evento puede ocurrir de <strong>n</strong> maneras diferentes, entonces ambos eventos 
                pueden ocurrir de <strong>m √ó n</strong> maneras diferentes.</p>
                <div class="example-box" style="margin-top: 1rem;">
                    <p><strong>Ejemplo:</strong> Si tienes 3 camisas y 4 pantalones, puedes vestirte de 3 √ó 4 = 12 maneras diferentes.</p>
                </div>
            </div>

            <div class="concept-box">
                <h4>Principio de Adici√≥n</h4>
                <p>Si un evento puede ocurrir de <strong>m</strong> maneras diferentes y otro evento (que no puede 
                ocurrir al mismo tiempo) puede ocurrir de <strong>n</strong> maneras diferentes, entonces uno u otro 
                evento puede ocurrir de <strong>m + n</strong> maneras.</p>
            </div>

            <h3>2. Permutaciones</h3>
            <p>Ordenaci√≥n de n elementos donde <strong>el orden S√ç importa</strong>.</p>
            
            <div class="formula-box">
                P(n) = n! = n √ó (n-1) √ó (n-2) √ó ... √ó 2 √ó 1
            </div>

            <p><strong>Ejemplo:</strong> Las permutaciones de {A, B, C} son: ABC, ACB, BAC, BCA, CAB, CBA = 3! = 6</p>

            <h3>3. Variaciones</h3>
            <p>Ordenaciones de r elementos tomados de n elementos, donde <strong>el orden S√ç importa</strong>.</p>
            
            <div class="formula-box">
                V(n,r) = n! / (n-r)!
            </div>

            <h3>4. Combinaciones</h3>
            <div class="exam-important">
                ‚ö†Ô∏è IMPORTANTE PARA EXAMEN
            </div>
            <p>Selecciones de r elementos tomados de n elementos, donde <strong>el orden NO importa</strong>.</p>
            
            <div class="formula-box">
                C(n,r) = n! / (r!(n-r)!)
            </div>

            <div class="concept-box">
                <h4>üìå F√≥rmula de Combinaciones sin Repetici√≥n (Secci√≥n 1.5.3)</h4>
                <p>Esta es la f√≥rmula clave que S√ç debes conocer para el examen:</p>
                <div class="formula-box" style="margin: 1rem 0; font-size: 1.3rem;">
                    C(n,r) = (n r) = n! / (r!(n-r)!)
                </div>
                <p><strong>Ejemplo:</strong> C(5,2) = 5!/(2!√ó3!) = 120/(2√ó6) = 10</p>
                <p>Esto significa: de 5 elementos, podemos seleccionar 2 de 10 maneras diferentes.</p>
            </div>

            <h3>5. Propiedades de las Combinaciones</h3>
            <ul>
                <li><strong>C(n, 0) = 1</strong> (solo hay una forma de no elegir nada)</li>
                <li><strong>C(n, n) = 1</strong> (solo hay una forma de elegir todos)</li>
                <li><strong>C(n, r) = C(n, n-r)</strong> (propiedad sim√©trica)</li>
                <li><strong>C(n, r) + C(n, r+1) = C(n+1, r+1)</strong> (identidad de Pascal)</li>
            </ul>
        </div>

        <!-- Ejemplos -->
        <div class="content-section" id="ejemplos">
            <h2>üí° Ejemplos Resueltos</h2>

            <div class="example-box">
                <h4>Ejemplo 1: Principio de Multiplicaci√≥n</h4>
                <p><strong>Problema:</strong> Un restaurante ofrece 4 entradas, 6 platos principales y 3 postres. ¬øDe cu√°ntas formas se puede elegir un men√∫ completo?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>Aplicamos el principio de multiplicaci√≥n:</p>
                <p><strong>Total = 4 √ó 6 √ó 3 = 72 men√∫s diferentes</strong></p>
            </div>

            <div class="example-box">
                <h4>Ejemplo 2: Permutaciones</h4>
                <p><strong>Problema:</strong> ¬øDe cu√°ntas formas pueden sentarse 5 personas en una fila?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>P(5) = 5! = 5 √ó 4 √ó 3 √ó 2 √ó 1 = <strong>120 formas</strong></p>
                <p><strong>Explicaci√≥n:</strong> Para el primer asiento hay 5 opciones, para el segundo 4, para el tercero 3, etc.</p>
            </div>

            <div class="example-box">
                <h4>Ejemplo 3: Variaciones</h4>
                <p><strong>Problema:</strong> En una carrera de 10 corredores, ¬øde cu√°ntas formas pueden quedar los 3 primeros lugares?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>V(10,3) = 10!/(10-3)! = 10!/7! = 10 √ó 9 √ó 8 = <strong>720 formas</strong></p>
                <p><strong>Explicaci√≥n:</strong> El orden importa (1¬∞, 2¬∞, 3¬∞ son distintos), y solo elegimos 3 de 10.</p>
            </div>

            <div class="example-box">
                <h4>Ejemplo 4: Combinaciones ‚ö†Ô∏è IMPORTANTE</h4>
                <p><strong>Problema:</strong> De un grupo de 8 estudiantes, ¬øde cu√°ntas formas se puede seleccionar un comit√© de 3?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>C(8,3) = 8!/(3!√ó5!) = (8√ó7√ó6)/(3√ó2√ó1) = 336/6 = <strong>56 formas</strong></p>
                <p><strong>Explicaci√≥n:</strong> El orden NO importa (el comit√© {A,B,C} es igual a {C,A,B}).</p>
            </div>

            <div class="example-box">
                <h4>Ejemplo 5: Combinaciones - Aplicaci√≥n</h4>
                <p><strong>Problema:</strong> ¬øCu√°ntas manos de 5 cartas se pueden formar de un mazo de 52 cartas?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>C(52,5) = 52!/(5!√ó47!) = <strong>2,598,960 manos diferentes</strong></p>
                <p><strong>Explicaci√≥n:</strong> En una mano de p√≥ker, el orden en que recibes las cartas no importa.</p>
            </div>

            <div class="example-box">
                <h4>Ejemplo 6: Aplicaci√≥n Combinada</h4>
                <p><strong>Problema:</strong> Un equipo de f√∫tbol tiene 20 jugadores. ¬øDe cu√°ntas formas se puede elegir al capit√°n y al subcapit√°n?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>V(20,2) = 20!/(20-2)! = 20 √ó 19 = <strong>380 formas</strong></p>
                <p><strong>Explicaci√≥n:</strong> El orden importa porque capit√°n y subcapit√°n son roles diferentes.</p>
            </div>
        </div>

        <!-- Herramientas -->
        <div class="content-section" id="herramientas">
            <h2>üõ†Ô∏è Calculadoras Interactivas</h2>

            <div class="tool-card">
                <h3>Calculadora de Factorial</h3>
                <p>El factorial de un n√∫mero n (escrito n!) es el producto de todos los enteros positivos hasta n.</p>
                <div class="tool-input-group">
                    <label>n! (ingresa n):</label>
                    <input type="number" id="factorialInput" min="0" max="20" placeholder="Ej: 5">
                </div>
                <button class="calc-button" onclick="calculateFactorial()">Calcular n!</button>
                <div class="calc-result" id="factorialResult">Ingresa un n√∫mero para calcular su factorial</div>
            </div>

            <div class="tool-card">
                <h3>Calculadora de Permutaciones</h3>
                <p>Calcula P(n): el n√∫mero de formas de ordenar n elementos.</p>
                <div class="tool-input-group">
                    <label>N√∫mero de elementos (n):</label>
                    <input type="number" id="permN" min="1" max="20" placeholder="Ej: 5">
                </div>
                <button class="calc-button" onclick="calculatePermutation()">Calcular P(n)</button>
                <div class="calc-result" id="permResult">Ingresa el n√∫mero de elementos</div>
            </div>

            <div class="tool-card">
                <h3>Calculadora de Variaciones</h3>
                <p>Calcula V(n,r): el n√∫mero de formas de ordenar r elementos de un total de n (orden importa).</p>
                <div class="tool-input-group">
                    <label>Total de elementos (n):</label>
                    <input type="number" id="varN" min="1" max="20" placeholder="Ej: 10">
                </div>
                <div class="tool-input-group">
                    <label>Elementos a tomar (r):</label>
                    <input type="number" id="varR" min="1" max="20" placeholder="Ej: 3">
                </div>
                <button class="calc-button" onclick="calculateVariation()">Calcular V(n,r)</button>
                <div class="calc-result" id="varResult">Ingresa ambos n√∫meros</div>
            </div>

            <div class="tool-card" style="border: 3px solid #ef5350;">
                <h3>‚ö†Ô∏è Calculadora de Combinaciones (IMPORTANTE PARA EXAMEN)</h3>
                <p>Calcula C(n,r): el n√∫mero de formas de seleccionar r elementos de un total de n (orden NO importa).</p>
                <div class="tool-input-group">
                    <label>Total de elementos (n):</label>
                    <input type="number" id="combN" min="1" max="50" placeholder="Ej: 8">
                </div>
                <div class="tool-input-group">
                    <label>Elementos a seleccionar (r):</label>
                    <input type="number" id="combR" min="0" max="50" placeholder="Ej: 3">
                </div>
                <button class="calc-button" onclick="calculateCombination()">Calcular C(n,r)</button>
                <div class="calc-result" id="combResult">Ingresa ambos n√∫meros</div>
            </div>
        </div>

        <!-- Pr√°ctica -->
        <div class="content-section" id="practica">
            <h2>‚úèÔ∏è Pr√°ctica Guiada</h2>

            <div id="exercises-container"></div>

            <div class="navigation-buttons mt-2">
                <button class="btn btn-secondary" onclick="window.location.href='preliminares-numeros.html'">‚¨ÖÔ∏è Tema Anterior</button>
                <button class="btn btn-primary" onclick="window.location.href='../index.html'">Volver a Matem√°ticas</button>
            </div>
        </div>

        <!-- Resumen -->
        <div class="content-section" id="resumen">
            <h2>üìã Resumen del Tema</h2>

            <div class="exam-important" style="font-size: 1.1rem; padding: 1.5rem;">
                <h4 style="margin-top: 0;">üéØ Puntos Clave para el Examen</h4>
                <ul>
                    <li><strong>Principio de Multiplicaci√≥n:</strong> Eventos secuenciales ‚Üí multiplicar</li>
                    <li><strong>F√≥rmula de Combinaciones (‚ö†Ô∏è MEMORIZAR):</strong> C(n,r) = n!/(r!(n-r)!)</li>
                    <li><strong>Cu√°ndo usar combinaciones:</strong> El orden NO importa</li>
                    <li><strong>Propiedades:</strong> C(n,0)=1, C(n,n)=1, C(n,r)=C(n,n-r)</li>
                </ul>
            </div>

            <div class="concept-box">
                <h4>Diferencias Clave</h4>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Concepto</th>
                            <th>¬øOrden importa?</th>
                            <th>F√≥rmula</th>
                            <th>Ejemplo</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Permutaciones</strong></td>
                            <td>S√ç</td>
                            <td>n!</td>
                            <td>Ordenar libros en estante</td>
                        </tr>
                        <tr>
                            <td><strong>Variaciones</strong></td>
                            <td>S√ç</td>
                            <td>n!/(n-r)!</td>
                            <td>Podio en carrera</td>
                        </tr>
                        <tr style="background: #ffebee;">
                            <td><strong>Combinaciones</strong></td>
                            <td><strong>NO</strong></td>
                            <td><strong>n!/(r!(n-r)!)</strong></td>
                            <td><strong>Elegir comit√©</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="concept-box">
                <h4>üìù Estrategia para Resolver Problemas</h4>
                <ol>
                    <li><strong>Identifica:</strong> ¬øEl orden importa?
                        <ul>
                            <li>S√ç ‚Üí Permutaciones o Variaciones</li>
                            <li>NO ‚Üí Combinaciones ‚ö†Ô∏è</li>
                        </ul>
                    </li>
                    <li><strong>Determina:</strong> ¬øUsas todos los elementos?
                        <ul>
                            <li>S√ç ‚Üí Permutaciones (n!)</li>
                            <li>NO ‚Üí Variaciones o Combinaciones</li>
                        </ul>
                    </li>
                    <li><strong>Aplica la f√≥rmula correcta</strong></li>
                    <li><strong>Verifica:</strong> ¬øEl resultado tiene sentido?</li>
                </ol>
            </div>

            <div class="example-box">
                <h4>üéì Para Profundizar</h4>
                <p>La combinatoria es fundamental en:</p>
                <ul>
                    <li><strong>Probabilidad:</strong> Calcular casos favorables y totales</li>
                    <li><strong>Teor√≠a de grafos:</strong> Contar caminos y configuraciones</li>
                    <li><strong>Criptograf√≠a:</strong> Determinar seguridad de c√≥digos</li>
                    <li><strong>Optimizaci√≥n:</strong> Analizar alternativas posibles</li>
                </ul>
            </div>

            <div class="navigation-buttons mt-2">
                <button class="btn btn-secondary" onclick="window.location.href='preliminares-numeros.html'">‚¨ÖÔ∏è Tema Anterior</button>
                <button class="btn btn-primary" onclick="window.location.href='../index.html'">Volver a Matem√°ticas</button>
            </div>
        </div>
    </div>

    <script src="../../../../lib/storage.js"></script>
    <script src="../../../../lib/gamification.js"></script>
    <script src="../../../../lib/components.js"></script>
    <script>
        const MODULE_ID = 'estadistica';
        const MODULE_TITLE = 'Tema 1: Estad√≠stica y Probabilidad';

        // Initialize module
        document.addEventListener('DOMContentLoaded', function() {
            Components.createHeader(MODULE_TITLE, '../index.html');
            
            const tabs = [
                { id: 'teoria', label: 'Teor√≠a', icon: 'üìö' },
                { id: 'ejemplos', label: 'Ejemplos', icon: 'üí°' },
                { id: 'herramientas', label: 'Herramientas', icon: 'üõ†Ô∏è' },
                { id: 'practica', label: 'Pr√°ctica', icon: '‚úèÔ∏è' },
                { id: 'resumen', label: 'Resumen', icon: 'üìã' }
            ];
            Components.createTabs(tabs, 'teoria');
            Components.createScoreDisplay();
            
            loadExercises();
            Gamification.updateDisplay(MODULE_ID);
        });

        // Exercise data
        const exercises = [
            {
                id: 1,
                question: 'Calcula 4!',
                type: 'number',
                correct: '24',
                hint: '4! = 4 √ó 3 √ó 2 √ó 1'
            },
            {
                id: 2,
                question: 'Calcula C(6,2)',
                type: 'number',
                correct: '15',
                hint: 'C(6,2) = 6!/(2!√ó4!) = (6√ó5)/(2√ó1)'
            },
            {
                id: 3,
                question: '¬øDe cu√°ntas formas se pueden ordenar 3 libros en un estante?',
                type: 'number',
                correct: '6',
                hint: 'Es una permutaci√≥n: P(3) = 3!'
            },
            {
                id: 4,
                question: 'De 7 candidatos, ¬øde cu√°ntas formas se puede elegir un comit√© de 4?',
                type: 'number',
                correct: '35',
                hint: 'Es una combinaci√≥n: C(7,4)'
            },
            {
                id: 5,
                question: 'Calcula C(5,0)',
                type: 'number',
                correct: '1',
                hint: 'C(n,0) siempre es 1 (solo hay una forma de no elegir nada)'
            },
            {
                id: 6,
                question: 'Si hay 5 camisas y 3 pantalones, ¬øde cu√°ntas formas puedes vestirte? (usando principio de multiplicaci√≥n)',
                type: 'number',
                correct: '15',
                hint: 'Principio de multiplicaci√≥n: 5 √ó 3'
            },
            {
                id: 7,
                question: 'Calcula 5!',
                type: 'number',
                correct: '120',
                hint: '5! = 5 √ó 4 √ó 3 √ó 2 √ó 1'
            },
            {
                id: 8,
                question: 'Calcula C(10,2)',
                type: 'number',
                correct: '45',
                hint: 'C(10,2) = 10!/(2!√ó8!) = (10√ó9)/(2√ó1)'
            },
            {
                id: 9,
                question: '¬øDe cu√°ntas formas pueden quedar los 2 primeros lugares en una carrera de 8 personas?',
                type: 'number',
                correct: '56',
                hint: 'El orden importa, usa variaciones: V(8,2) = 8 √ó 7'
            },
            {
                id: 10,
                question: 'Calcula C(6,6)',
                type: 'number',
                correct: '1',
                hint: 'C(n,n) siempre es 1 (solo hay una forma de elegir todos)'
            }
        ];

        function loadExercises() {
            const container = document.getElementById('exercises-container');
            container.innerHTML = exercises.map(ex => `
                <div class="exercise-card" data-exercise="${ex.id}">
                    <h4>Ejercicio ${ex.id}</h4>
                    <p>${ex.question}</p>
                    <input type="number" step="any" id="ex${ex.id}" class="input-field" placeholder="Tu respuesta">
                    <div class="button-group">
                        <button class="btn btn-primary" onclick="checkAnswer(${ex.id})">Verificar</button>
                        <button class="btn btn-secondary" onclick="showHint(${ex.id})">üí° Pista</button>
                    </div>
                    <div id="hint${ex.id}" class="hint-box d-none">${ex.hint}</div>
                    <div id="feedback${ex.id}" class="feedback"></div>
                </div>
            `).join('');
        }

        function checkAnswer(exerciseId) {
            const exercise = exercises.find(ex => ex.id === exerciseId);
            const input = document.getElementById('ex' + exerciseId);
            const feedback = document.getElementById('feedback' + exerciseId);
            const userAnswer = input.value.trim();

            if (!userAnswer) {
                feedback.className = 'feedback error';
                feedback.textContent = 'Por favor, ingresa una respuesta.';
                feedback.style.display = 'block';
                return;
            }

            const isCorrect = userAnswer === exercise.correct;
            
            if (isCorrect) {
                feedback.className = 'feedback success';
                feedback.textContent = '¬°Correcto! ‚ú® +10 puntos';
                input.disabled = true;
                Gamification.completeExercise(MODULE_ID, true);
            } else {
                feedback.className = 'feedback error';
                feedback.textContent = 'Incorrecto. Intenta de nuevo o usa la pista.';
                Gamification.completeExercise(MODULE_ID, false);
            }
            
            feedback.style.display = 'block';
            Gamification.updateDisplay(MODULE_ID);
        }

        function showHint(exerciseId) {
            const hint = document.getElementById('hint' + exerciseId);
            hint.style.display = hint.style.display === 'none' ? 'block' : 'none';
        }

        // Factorial function
        function factorial(n) {
            if (n <= 1) return 1;
            return n * factorial(n - 1);
        }

        // Calculator functions
        function calculateFactorial() {
            const n = parseInt(document.getElementById('factorialInput').value);
            const result = document.getElementById('factorialResult');
            
            if (isNaN(n) || n < 0) {
                result.innerHTML = '‚ö†Ô∏è Por favor ingresa un n√∫mero v√°lido (0-20)';
                return;
            }
            
            if (n > 20) {
                result.innerHTML = '‚ö†Ô∏è El n√∫mero es demasiado grande. Ingresa un valor entre 0 y 20.';
                return;
            }
            
            const factValue = factorial(n);
            result.innerHTML = `<strong>${n}! = ${factValue.toLocaleString()}</strong>`;
        }

        function calculatePermutation() {
            const n = parseInt(document.getElementById('permN').value);
            const result = document.getElementById('permResult');
            
            if (isNaN(n) || n < 1) {
                result.innerHTML = '‚ö†Ô∏è Por favor ingresa un n√∫mero v√°lido (1-20)';
                return;
            }
            
            const permValue = factorial(n);
            result.innerHTML = `<strong>P(${n}) = ${n}! = ${permValue.toLocaleString()}</strong><br>
                <small>Hay ${permValue.toLocaleString()} formas de ordenar ${n} elementos</small>`;
        }

        function calculateVariation() {
            const n = parseInt(document.getElementById('varN').value);
            const r = parseInt(document.getElementById('varR').value);
            const result = document.getElementById('varResult');
            
            if (isNaN(n) || isNaN(r) || n < 1 || r < 1) {
                result.innerHTML = '‚ö†Ô∏è Por favor ingresa n√∫meros v√°lidos';
                return;
            }
            
            if (r > n) {
                result.innerHTML = '‚ö†Ô∏è r no puede ser mayor que n';
                return;
            }
            
            const varValue = factorial(n) / factorial(n - r);
            result.innerHTML = `<strong>V(${n},${r}) = ${varValue.toLocaleString()}</strong><br>
                <small>C√°lculo: ${n}! / ${n-r}! = ${varValue.toLocaleString()}</small>`;
        }

        function calculateCombination() {
            const n = parseInt(document.getElementById('combN').value);
            const r = parseInt(document.getElementById('combR').value);
            const result = document.getElementById('combResult');
            
            if (isNaN(n) || isNaN(r) || n < 1 || r < 0) {
                result.innerHTML = '‚ö†Ô∏è Por favor ingresa n√∫meros v√°lidos';
                return;
            }
            
            if (r > n) {
                result.innerHTML = '‚ö†Ô∏è r no puede ser mayor que n';
                return;
            }
            
            const combValue = factorial(n) / (factorial(r) * factorial(n - r));
            result.innerHTML = `<strong>C(${n},${r}) = ${combValue.toLocaleString()}</strong><br>
                <small>F√≥rmula: ${n}! / (${r}! √ó ${n-r}!) = ${combValue.toLocaleString()}</small><br>
                <small>Hay ${combValue.toLocaleString()} formas de seleccionar ${r} elementos de ${n}</small>`;
        }
    </script>
</body>
</html>
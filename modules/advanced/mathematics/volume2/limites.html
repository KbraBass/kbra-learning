<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 3: LÃ­mites y Continuidad - MatemÃ¡ticas Avanzadas</title>
    <link rel="stylesheet" href="../../../../css/core.css">
    <link rel="stylesheet" href="../../../../css/components.css">
</head>
<body>
    <div id="header-container"></div>
    <div id="tabs-container"></div>
    <div id="score-container"></div>

    <div class="container">
        <div class="content-section active" id="teoria">
            <h2>ğŸ“š TeorÃ­a: LÃ­mites y Continuidad</h2>

            <div class="info-box" style="background: var(--gradient-primary); color: white;">
                <h4 style="color: white; margin-top: 0;">ğŸ“– Glosario de SÃ­mbolos</h4>
                <ul style="list-style: none; padding-left: 0; line-height: 2;">
                    <li><strong>lim</strong> = LÃ­mite</li>
                    <li><strong>xâ†’a</strong> = x tiende a a</li>
                    <li><strong>xâ†’âˆ</strong> = x tiende a infinito</li>
                    <li><strong>limâº</strong> = LÃ­mite por la derecha</li>
                    <li><strong>limâ»</strong> = LÃ­mite por la izquierda</li>
                    <li><strong>âˆ</strong> = Infinito</li>
                    <li><strong>0/0, âˆ/âˆ</strong> = Indeterminaciones</li>
                </ul>
            </div>

            <h3>1. Concepto de LÃ­mite</h3>
            <div class="info-box">
                <div class="formula-box">
                    lim(xâ†’a) f(x) = L
                </div>
                <p><strong>Significado:</strong> Cuando x se acerca a a, f(x) se acerca a L</p>
                <p><strong>Formal:</strong> âˆ€Îµ>0, âˆƒÎ´>0 tal que si 0<|x-a|<Î´ entonces |f(x)-L|<Îµ</p>
            </div>

            <h3>2. LÃ­mites Laterales</h3>
            <div class="info-box">
                <p><strong>Por la derecha:</strong> lim(xâ†’aâº) f(x) (x > a)</p>
                <p><strong>Por la izquierda:</strong> lim(xâ†’aâ») f(x) (x < a)</p>
                <div class="exam-important">
                    <strong>Importante:</strong> El lÃ­mite existe â‡” lÃ­mites laterales son iguales
                </div>
            </div>

            <h3>3. CÃ¡lculo de LÃ­mites</h3>
            <div class="info-box">
                <h4>Propiedades</h4>
                <ul>
                    <li>lim[f(x) + g(x)] = lim f(x) + lim g(x)</li>
                    <li>lim[f(x) Â· g(x)] = lim f(x) Â· lim g(x)</li>
                    <li>lim[f(x) / g(x)] = lim f(x) / lim g(x) (si lim g(x) â‰  0)</li>
                    <li>lim[cÂ·f(x)] = c Â· lim f(x)</li>
                </ul>
            </div>

            <h3>4. Indeterminaciones</h3>
            <table class="comparison-table">
                <thead>
                    <tr><th>Tipo</th><th>Forma</th><th>TÃ©cnicas</th></tr>
                </thead>
                <tbody>
                    <tr><td>0/0</td><td>Cociente</td><td>Factorizar, simplificar, L'HÃ´pital</td></tr>
                    <tr><td>âˆ/âˆ</td><td>Cociente</td><td>Dividir por mayor potencia, L'HÃ´pital</td></tr>
                    <tr><td>0Â·âˆ</td><td>Producto</td><td>Convertir a cociente</td></tr>
                    <tr><td>âˆ-âˆ</td><td>Resta</td><td>Factorizar, racionalizar</td></tr>
                    <tr><td>1^âˆ</td><td>Potencia</td><td>Usar e^(lim ln(f))</td></tr>
                </tbody>
            </table>

            <h3>5. Regla de L'HÃ´pital</h3>
            <div class="info-box">
                <p>Si lim f(x)/g(x) es 0/0 o âˆ/âˆ:</p>
                <div class="formula-box">
                    lim f(x)/g(x) = lim f'(x)/g'(x)
                </div>
                <div class="exam-important">
                    <strong>CondiciÃ³n:</strong> Solo para indeterminaciones 0/0 o âˆ/âˆ
                </div>
            </div>

            <h3>6. LÃ­mites al Infinito</h3>
            <div class="info-box">
                <p><strong>Polinomios:</strong> Domina el tÃ©rmino de mayor grado</p>
                <p><strong>Racionales:</strong> Comparar grados del numerador y denominador</p>
                <ul>
                    <li>Si grado(P) > grado(Q): Â±âˆ</li>
                    <li>Si grado(P) = grado(Q): cociente de coeficientes principales</li>
                    <li>Si grado(P) < grado(Q): 0</li>
                </ul>
            </div>

            <h3>7. Continuidad</h3>
            <div class="info-box">
                <p>f es continua en x=a si:</p>
                <ol>
                    <li>f(a) existe</li>
                    <li>lim(xâ†’a) f(x) existe</li>
                    <li>lim(xâ†’a) f(x) = f(a)</li>
                </ol>
            </div>

            <h3>8. Tipos de Discontinuidad</h3>
            <div class="info-box">
                <ul>
                    <li><strong>Evitable:</strong> LÃ­mite existe pero â‰  f(a)</li>
                    <li><strong>Salto:</strong> LÃ­mites laterales diferentes</li>
                    <li><strong>Infinita:</strong> LÃ­mite es Â±âˆ (asÃ­ntota vertical)</li>
                </ul>
            </div>
        </div>

        <div class="content-section" id="ejemplos">
            <h2>ğŸ’¡ Ejemplos Resueltos</h2>

            <div class="info-box" style="border-left-color: var(--color-success);">
                <h4 style="color: var(--color-success);">Ejemplo 1: LÃ­mite Simple</h4>
                <p><strong>Problema:</strong> lim(xâ†’2) (xÂ² + 1)</p>
                <p><strong>SoluciÃ³n:</strong> SustituciÃ³n directa: 2Â² + 1 = 5</p>
                <p><strong>Respuesta:</strong> 5</p>
            </div>

            <div class="info-box" style="border-left-color: var(--color-success);">
                <h4 style="color: var(--color-success);">Ejemplo 2: IndeterminaciÃ³n 0/0</h4>
                <p><strong>Problema:</strong> lim(xâ†’1) (xÂ²-1)/(x-1)</p>
                <p><strong>SoluciÃ³n:</strong> (xÂ²-1)/(x-1) = (x+1)(x-1)/(x-1) = x+1 â†’ 2</p>
                <p><strong>Respuesta:</strong> 2</p>
            </div>

            <div class="info-box" style="border-left-color: var(--color-success);">
                <h4 style="color: var(--color-success);">Ejemplo 3: LÃ­mite al Infinito</h4>
                <p><strong>Problema:</strong> lim(xâ†’âˆ) (3xÂ²+1)/(xÂ²-2)</p>
                <p><strong>SoluciÃ³n:</strong> Mismo grado: 3/1 = 3</p>
                <p><strong>Respuesta:</strong> 3</p>
            </div>

            <div class="info-box" style="border-left-color: var(--color-success);">
                <h4 style="color: var(--color-success);">Ejemplo 4: Continuidad</h4>
                <p><strong>Problema:</strong> Â¿f(x) = xÂ² es continua en x=2?</p>
                <p><strong>SoluciÃ³n:</strong> f(2)=4, lim(xâ†’2) xÂ²=4 â†’ SÃ­ es continua</p>
                <p><strong>Respuesta:</strong> SÃ­</p>
            </div>

            <div class="info-box" style="border-left-color: var(--color-success);">
                <h4 style="color: var(--color-success);">Ejemplo 5: L'HÃ´pital</h4>
                <p><strong>Problema:</strong> lim(xâ†’0) sin(x)/x</p>
                <p><strong>SoluciÃ³n:</strong> 0/0 â†’ L'HÃ´pital: lim cos(x)/1 = 1</p>
                <p><strong>Respuesta:</strong> 1</p>
            </div>
        </div>

        <div class="content-section" id="herramientas">
            <h2>ğŸ› ï¸ Herramientas Interactivas</h2>

            <div class="tool-card">
                <h3>ğŸ¯ Calculadora de LÃ­mites PolinÃ³micos</h3>
                <p>EvalÃºa lÃ­mites por sustituciÃ³n directa</p>
                <div class="tool-input-group">
                    <label>Coef [a,b,c] para f(x)=axÂ²+bx+c:</label>
                    <input type="text" id="lim-coef" placeholder="Ej: 1,0,1">
                </div>
                <div class="tool-input-group">
                    <label>x tiende a:</label>
                    <input type="number" step="any" id="lim-a" placeholder="Ej: 2">
                </div>
                <button class="calc-button" onclick="calculateLimit()">Calcular</button>
                <div class="calc-result" id="lim-result">Ingresa los datos</div>
            </div>

            <div class="tool-card">
                <h3>âˆ LÃ­mites al Infinito (Racionales)</h3>
                <p>Analiza lÃ­mites de funciones racionales</p>
                <div class="tool-input-group">
                    <label>Grado numerador:</label>
                    <input type="number" id="inf-num" placeholder="Ej: 2">
                </div>
                <div class="tool-input-group">
                    <label>Grado denominador:</label>
                    <input type="number" id="inf-den" placeholder="Ej: 2">
                </div>
                <div class="tool-input-group">
                    <label>Coef principal numerador:</label>
                    <input type="number" step="any" id="inf-a" placeholder="Ej: 3">
                </div>
                <div class="tool-input-group">
                    <label>Coef principal denominador:</label>
                    <input type="number" step="any" id="inf-b" placeholder="Ej: 1">
                </div>
                <button class="calc-button" onclick="calculateInfiniteLimit()">Analizar</button>
                <div class="calc-result" id="inf-result">Ingresa los datos</div>
            </div>

            <div class="tool-card">
                <h3>ğŸ“Š Verificador de Continuidad</h3>
                <p>Verifica si una funciÃ³n es continua en un punto</p>
                <div class="tool-input-group">
                    <label>f(a):</label>
                    <input type="number" step="any" id="cont-fa" placeholder="Ej: 4">
                </div>
                <div class="tool-input-group">
                    <label>lim(xâ†’a) f(x):</label>
                    <input type="number" step="any" id="cont-lim" placeholder="Ej: 4">
                </div>
                <button class="calc-button" onclick="checkContinuity()">Verificar</button>
                <div class="calc-result" id="cont-result">Ingresa los datos</div>
            </div>
        </div>

        <div class="content-section" id="practica">
            <h2>âœï¸ PrÃ¡ctica</h2>
            <div id="exercises-container"></div>
            <div class="navigation-buttons" style="margin-top: 2rem;">
                <button class="btn btn-secondary" onclick="window.location.href='funciones-elementales-2.html'">â¬…ï¸ Anterior</button>
                <button class="btn btn-primary" onclick="window.location.href='index.html'">Ãndice</button>
                <button class="btn btn-secondary" onclick="window.location.href='derivadas.html'">Siguiente â¡ï¸</button>
            </div>
        </div>

        <div class="content-section" id="resumen">
            <h2>ğŸ“‹ Resumen</h2>
            <div class="info-box">
                <h4>ğŸ¯ Conceptos Clave</h4>
                <ul>
                    <li><strong>LÃ­mite:</strong> Valor al que tiende f(x)</li>
                    <li><strong>Laterales:</strong> Deben coincidir</li>
                    <li><strong>0/0:</strong> Factorizar o L'HÃ´pital</li>
                    <li><strong>âˆ/âˆ:</strong> Comparar grados</li>
                    <li><strong>L'HÃ´pital:</strong> Derivar numerador y denominador</li>
                    <li><strong>Continuidad:</strong> lim f(x) = f(a)</li>
                </ul>
            </div>
            <div class="navigation-buttons" style="margin-top: 2rem;">
                <button class="btn btn-secondary" onclick="window.location.href='funciones-elementales-2.html'">â¬…ï¸ Anterior</button>
                <button class="btn btn-primary" onclick="window.location.href='index.html'">Ãndice</button>
                <button class="btn btn-secondary" onclick="window.location.href='derivadas.html'">Siguiente â¡ï¸</button>
            </div>
        </div>
    </div>

    <script src="../../../../lib/storage.js"></script>
    <script src="../../../../lib/gamification.js"></script>
    <script src="../../../../lib/components.js"></script>
    <script>
        const MODULE_ID = 'limites';
        const MODULE_TITLE = 'Tema 3: LÃ­mites y Continuidad';

        document.addEventListener('DOMContentLoaded', function() {
            Components.createHeader(MODULE_TITLE, 'index.html');
            Components.createTabs([
                { id: 'teoria', label: 'TeorÃ­a', icon: 'ğŸ“š' },
                { id: 'ejemplos', label: 'Ejemplos', icon: 'ğŸ’¡' },
                { id: 'herramientas', label: 'Herramientas', icon: 'ğŸ› ï¸' },
                { id: 'practica', label: 'PrÃ¡ctica', icon: 'âœï¸' },
                { id: 'resumen', label: 'Resumen', icon: 'ğŸ“‹' }
            ], 'teoria');
            Components.createScoreDisplay();
            loadExercises();
            Gamification.updateDisplay(MODULE_ID);
        });

        const exercises = [
            { id: 1, question: 'lim(xâ†’3) (x+2)', correct: '5', hint: 'SustituciÃ³n directa: 3+2=5' },
            { id: 2, question: 'lim(xâ†’0) xÂ²', correct: '0', hint: '0Â²=0' },
            { id: 3, question: 'lim(xâ†’âˆ) 5', correct: '5', hint: 'Constante no cambia' },
            { id: 4, question: 'lim(xâ†’2) (xÂ²-4)/(x-2)', correct: '4', hint: 'Factor: (x+2)(x-2)/(x-2)=x+2â†’4' },
            { id: 5, question: 'lim(xâ†’âˆ) (2x)/(x+1)', correct: '2', hint: 'Mismo grado: 2/1=2' },
            { id: 6, question: 'Si f(2)=5 y lim(xâ†’2)f(x)=5, Â¿continua? (1=SÃ,0=NO)', correct: '1', hint: 'LÃ­mite = f(2) â†’ continua' },
            { id: 7, question: 'lim(xâ†’1) xÂ³', correct: '1', hint: '1Â³=1' },
            { id: 8, question: 'lim(xâ†’0) (sin(x)/x) [valor conocido]', correct: '1', hint: 'LÃ­mite notable: vale 1' },
            { id: 9, question: 'lim(xâ†’âˆ) (xÂ²)/(xÂ³)', correct: '0', hint: 'Grado menor arriba: 0' },
            { id: 10, question: 'lim(xâ†’4) âˆšx', correct: '2', hint: 'âˆš4=2' }
        ];

        function loadExercises() {
            document.getElementById('exercises-container').innerHTML = exercises.map(ex => `
                <div class="exercise-card"><h4>Ejercicio ${ex.id}</h4><p>${ex.question}</p>
                <input type="number" step="any" id="ex${ex.id}" class="input-field" placeholder="Tu respuesta">
                <div class="button-group">
                    <button class="btn btn-primary" onclick="checkAnswer(${ex.id})">Verificar</button>
                    <button class="btn btn-secondary" onclick="showHint(${ex.id})">ğŸ’¡ Pista</button>
                </div>
                <div id="hint${ex.id}" class="hint-box" style="display:none;">${ex.hint}</div>
                <div id="feedback${ex.id}" class="feedback"></div></div>
            `).join('');
        }

        function checkAnswer(exerciseId) {
            const exercise = exercises.find(ex => ex.id === exerciseId);
            const input = document.getElementById('ex' + exerciseId);
            const feedback = document.getElementById('feedback' + exerciseId);
            const userAnswer = parseFloat(input.value.trim());
            const isCorrect = Math.abs(userAnswer - parseFloat(exercise.correct)) <= 0.1;
            
            if (isCorrect) {
                feedback.className = 'feedback success';
                feedback.textContent = 'Â¡Correcto! âœ¨ +10 puntos';
                input.disabled = true;
                Gamification.completeExercise(MODULE_ID, true);
            } else {
                feedback.className = 'feedback error';
                feedback.textContent = 'Incorrecto. Intenta de nuevo.';
                Gamification.completeExercise(MODULE_ID, false);
            }
            feedback.style.display = 'block';
            Gamification.updateDisplay(MODULE_ID);
        }

        function showHint(exerciseId) {
            const hint = document.getElementById('hint' + exerciseId);
            hint.style.display = hint.style.display === 'none' ? 'block' : 'none';
        }

        function calculateLimit() {
            const coefStr = document.getElementById('lim-coef').value;
            const a = parseFloat(document.getElementById('lim-a').value);
            const result = document.getElementById('lim-result');
            
            if (!coefStr || isNaN(a)) {
                result.textContent = 'âš ï¸ Completa todos los campos';
                return;
            }
            
            const [c1, c2, c3] = coefStr.split(',').map(n => parseFloat(n.trim()));
            const value = c1*a*a + c2*a + c3;
            
            result.innerHTML = `<strong>lim(xâ†’${a}) f(x) = ${value.toFixed(2)}</strong>`;
        }

        function calculateInfiniteLimit() {
            const numGrade = parseInt(document.getElementById('inf-num').value);
            const denGrade = parseInt(document.getElementById('inf-den').value);
            const a = parseFloat(document.getElementById('inf-a').value);
            const b = parseFloat(document.getElementById('inf-b').value);
            const result = document.getElementById('inf-result');
            
            if (isNaN(numGrade) || isNaN(denGrade) || isNaN(a) || isNaN(b)) {
                result.textContent = 'âš ï¸ Completa todos los campos';
                return;
            }
            
            let limitValue;
            if (numGrade > denGrade) limitValue = 'âˆ';
            else if (numGrade === denGrade) limitValue = (a/b).toFixed(2);
            else limitValue = '0';
            
            result.innerHTML = `
                <strong>AnÃ¡lisis:</strong><br>
                Grado numerador: ${numGrade}<br>
                Grado denominador: ${denGrade}<br>
                <strong>lim(xâ†’âˆ) = ${limitValue}</strong>
            `;
        }

        function checkContinuity() {
            const fa = parseFloat(document.getElementById('cont-fa').value);
            const limF = parseFloat(document.getElementById('cont-lim').value);
            const result = document.getElementById('cont-result');
            
            if (isNaN(fa) || isNaN(limF)) {
                result.textContent = 'âš ï¸ Completa ambos campos';
                return;
            }
            
            const continuous = Math.abs(fa - limF) < 0.001;
            
            result.innerHTML = continuous ?
                '<strong>âœ“ La funciÃ³n ES continua</strong><br>lim f(x) = f(a)' :
                '<strong>âœ— La funciÃ³n NO es continua</strong><br>lim f(x) â‰  f(a)';
        }
    </script>
</body>
</html>
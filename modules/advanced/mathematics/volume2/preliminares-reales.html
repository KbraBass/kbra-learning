<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preliminares: NÃºmeros Reales - MatemÃ¡ticas Avanzadas</title>
    <link rel="stylesheet" href="../../../../css/core.css">
    <link rel="stylesheet" href="../../../../css/components.css">
</head>
<body>
    <div id="header-container"></div>
    <div id="tabs-container"></div>
    <div id="score-container"></div>

    <div class="container">
        <!-- Tab 1: Glosario -->
        <div class="content-section active" id="glosario">
            <h2>ğŸ“– Glosario de NÃºmeros Reales</h2>

            <div class="info-box bg-gradient-primary-white">
                <p class="white-text-mt0">Aprende los tÃ©rminos clave relacionados con los nÃºmeros reales:</p>
            </div>

            <div class="term-card">
                <h3>ğŸ”µ Axioma</h3>
                <p><strong>DefiniciÃ³n:</strong> ProposiciÃ³n fundamental que se acepta sin demostraciÃ³n y sirve como base para construir una teorÃ­a matemÃ¡tica. Los nÃºmeros reales se definen mediante un sistema de axiomas.</p>
                <p><strong>Ejemplo:</strong> El axioma conmutativo de la suma dice que a + b = b + a para todo a, b âˆˆ â„.</p>
            </div>

            <div class="term-card">
                <h3>ğŸ”µ Supremo e Ãnfimo</h3>
                <p><strong>DefiniciÃ³n:</strong> El supremo (sup A) de un conjunto A es la menor cota superior. El Ã­nfimo (inf A) es la mayor cota inferior. Pueden o no pertenecer al conjunto.</p>
                <p><strong>Ejemplo:</strong> Para A = (0, 1), sup A = 1 e inf A = 0, pero ni 0 ni 1 pertenecen a A.</p>
            </div>

            <div class="term-card">
                <h3>ğŸ”µ Valor Absoluto</h3>
                <p><strong>DefiniciÃ³n:</strong> El valor absoluto de un nÃºmero x, denotado |x|, es la distancia de x al origen (0) en la recta real. Siempre es no negativo.</p>
                <p><strong>Ejemplo:</strong> |-5| = 5 y |5| = 5. La distancia de ambos al 0 es 5.</p>
            </div>

            <div class="term-card">
                <h3>ğŸ”µ Densidad de los Racionales</h3>
                <p><strong>DefiniciÃ³n:</strong> Los nÃºmeros racionales (â„š) son densos en â„ significa que entre dos nÃºmeros reales cualesquiera siempre hay un nÃºmero racional.</p>
                <p><strong>Ejemplo:</strong> Entre 0.5 y 0.6 hay infinitos racionales, como 0.55 = 11/20.</p>
            </div>

            <div class="term-card">
                <h3>ğŸ”µ Propiedad Arquimediana</h3>
                <p><strong>DefiniciÃ³n:</strong> Los nÃºmeros naturales no estÃ¡n acotados superiormente. Para cualquier nÃºmero real x, existe un natural n tal que n > x.</p>
                <p><strong>Ejemplo:</strong> Por grande que sea x = 1,000,000, siempre existe n = 1,000,001 > x.</p>
            </div>
        </div>

        <!-- Tab 2: SÃ­mbolos -->
        <div class="content-section" id="simbolos">
            <h2>ğŸ”£ SÃ­mbolos MatemÃ¡ticos</h2>

            <div class="info-box bg-gradient-success-white">
                <p class="white-text-mt0">SÃ­mbolos esenciales para trabajar con nÃºmeros reales:</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-header">
                    <span class="symbol-large">â„</span>
                    <span class="symbol-name">NÃºmeros Reales</span>
                </div>
                <p><strong>Uso:</strong> Denota el conjunto de todos los nÃºmeros en la recta numÃ©rica (racionales e irracionales).</p>
                <p><strong>Ejemplo:</strong> Ï€ âˆˆ â„, âˆš2 âˆˆ â„, 3/4 âˆˆ â„</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-header">
                    <span class="symbol-large">âˆ€ / âˆƒ</span>
                    <span class="symbol-name">Cuantificadores Universales y Existenciales</span>
                </div>
                <p><strong>Uso:</strong> âˆ€ significa "para todo", âˆƒ significa "existe al menos un".</p>
                <p><strong>Ejemplo:</strong> âˆ€ x âˆˆ â„, xÂ² â‰¥ 0 (todo real al cuadrado es no negativo)</p>
                <p><strong>Ejemplo:</strong> âˆƒ x âˆˆ â„ tal que xÂ² = 2 (existe un real cuyo cuadrado es 2)</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-header">
                    <span class="symbol-large">â‡’ / â‡”</span>
                    <span class="symbol-name">ImplicaciÃ³n y Equivalencia</span>
                </div>
                <p><strong>Uso:</strong> â‡’ significa "implica" o "entonces". â‡” significa "si y solo si".</p>
                <p><strong>Ejemplo:</strong> x = 0 â‡’ |x| = 0</p>
                <p><strong>Ejemplo:</strong> |x| = 0 â‡” x = 0</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-header">
                    <span class="symbol-large">|x|</span>
                    <span class="symbol-name">Valor Absoluto</span>
                </div>
                <p><strong>Uso:</strong> Distancia de x al origen. |x| = x si x â‰¥ 0, |x| = -x si x < 0.</p>
                <p><strong>Ejemplo:</strong> |-7| = 7, |5| = 5</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-header">
                    <span class="symbol-large">sup / inf</span>
                    <span class="symbol-name">Supremo e Ãnfimo</span>
                </div>
                <p><strong>Uso:</strong> sup A es la menor cota superior de A, inf A es la mayor cota inferior.</p>
                <p><strong>Ejemplo:</strong> Para A = [0, 1), sup A = 1, inf A = 0</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-header">
                    <span class="symbol-large">âˆˆ / âˆ‰</span>
                    <span class="symbol-name">Pertenencia</span>
                </div>
                <p><strong>Uso:</strong> âˆˆ significa "pertenece a", âˆ‰ significa "no pertenece a".</p>
                <p><strong>Ejemplo:</strong> Ï€ âˆˆ â„, Ï€ âˆ‰ â„š</p>
            </div>

            <div class="symbol-card">
                <div class="symbol-header">
                    <span class="symbol-large">Îµ, Î´</span>
                    <span class="symbol-name">NÃºmeros PequeÃ±os Positivos</span>
                </div>
                <p><strong>Uso:</strong> Representan nÃºmeros arbitrariamente pequeÃ±os y positivos, usados en la definiciÃ³n de lÃ­mites.</p>
                <p><strong>Ejemplo:</strong> Para Îµ = 0.01, existe Î´ > 0 tal que...</p>
            </div>
        </div>

        <!-- Tab 3: IntroducciÃ³n -->
        <div class="content-section" id="introduccion">
            <h2>ğŸŒŸ IntroducciÃ³n a los NÃºmeros Reales</h2>

            <div class="info-box bg-gradient-info-white">
                <p class="white-text-mt0">Los nÃºmeros reales son el fundamento del anÃ¡lisis matemÃ¡tico y tienen aplicaciones en mÃºltiples Ã¡reas:</p>
            </div>

            <div class="application-card">
                <h3>ğŸ—ï¸ FÃ­sica e IngenierÃ­a</h3>
                <p><strong>AplicaciÃ³n:</strong> Las magnitudes fÃ­sicas (distancia, tiempo, masa, energÃ­a) se representan con nÃºmeros reales. Las ecuaciones de movimiento, termodinÃ¡mica y electromagnetismo utilizan â„.</p>
                <p><strong>Ejemplo Real:</strong> La velocidad de un objeto v(t) = 5t m/s es una funciÃ³n de â„ a â„. Para calcular cuando alcanza 100 m/s: 5t = 100 â†’ t = 20 segundos.</p>
            </div>

            <div class="application-card">
                <h3>ğŸ’¹ EconomÃ­a y Finanzas</h3>
                <p><strong>AplicaciÃ³n:</strong> Los precios, tasas de interÃ©s, rendimientos de inversiones y modelos econÃ³micos se basan en â„. El interÃ©s compuesto usa funciones exponenciales reales.</p>
                <p><strong>Ejemplo Real:</strong> Con interÃ©s compuesto continuo, capital C(t) = Câ‚€e^(rt). Si inviertes $1000 al 5% anual, en 10 aÃ±os: C(10) = 1000e^(0.5) â‰ˆ $1648.72.</p>
            </div>

            <div class="application-card">
                <h3>ğŸ”¬ Ciencias Naturales</h3>
                <p><strong>AplicaciÃ³n:</strong> Concentraciones quÃ­micas, poblaciones biolÃ³gicas, decaimiento radiactivo y modelos de crecimiento usan nÃºmeros reales y funciones continuas.</p>
                <p><strong>Ejemplo Real:</strong> Ley de enfriamiento de Newton: T(t) = T_ambiente + (Tâ‚€ - T_ambiente)e^(-kt), donde todas las variables son nÃºmeros reales.</p>
            </div>

            <div class="application-card">
                <h3>ğŸ“Š EstadÃ­stica y Ciencia de Datos</h3>
                <p><strong>AplicaciÃ³n:</strong> Promedios, desviaciones estÃ¡ndar, probabilidades continuas y regresiones trabajan con valores reales. Las distribuciones de probabilidad son funciones de â„ a â„.</p>
                <p><strong>Ejemplo Real:</strong> La altura humana sigue una distribuciÃ³n normal con media Î¼ âˆˆ â„ y desviaciÃ³n Ïƒ âˆˆ â„. f(x) = (1/Ïƒâˆš(2Ï€))e^(-(x-Î¼)Â²/(2ÏƒÂ²))</p>
            </div>

            <div class="application-card">
                <h3>ğŸ’» ComputaciÃ³n CientÃ­fica</h3>
                <p><strong>AplicaciÃ³n:</strong> Algoritmos numÃ©ricos, optimizaciÃ³n, machine learning y simulaciones requieren aritmÃ©tica de punto flotante para aproximar nÃºmeros reales en computadoras.</p>
                <p><strong>Ejemplo Real:</strong> MÃ©todo de Newton-Raphson para encontrar raÃ­ces: x_(n+1) = x_n - f(x_n)/f'(x_n). Converge a soluciones reales con precisiÃ³n arbitraria.</p>
            </div>

            <div class="exam-important">
                <h4>ğŸ’¡ Â¿Por quÃ© es importante?</h4>
                <p>Los nÃºmeros reales completan los racionales, llenando "huecos" como âˆš2, Ï€, e. El axioma del supremo garantiza que toda sucesiÃ³n de Cauchy converge en â„, lo que es esencial para el cÃ¡lculo diferencial e integral. Sin â„ completo, no podrÃ­amos definir rigurosamente lÃ­mites, derivadas ni integrales.</p>
            </div>
        </div>

        <!-- Tab 4: TeorÃ­a -->
        <div class="content-section" id="teoria">
            <h2>ğŸ“š TeorÃ­a: NÃºmeros Reales</h2>

            <div class="info-box bg-gradient-primary-white">
                <p class="white-text-mt0">Los nÃºmeros reales forman un campo ordenado completo con propiedades fundamentales.</p>
            </div>

            <h3>1. Axiomas de los NÃºmeros Reales</h3>
            <div class="info-box">
                <h4>Axiomas de la Suma</h4>
                <ul>
                    <li><strong>(A1) Cerradura:</strong> âˆ€ a, b âˆˆ â„ â‡’ a + b âˆˆ â„</li>
                    <li><strong>(A2) Asociativa:</strong> (a + b) + c = a + (b + c)</li>
                    <li><strong>(A3) Neutro:</strong> âˆƒ 0 âˆˆ â„ tal que a + 0 = a</li>
                    <li><strong>(A4) Opuesto:</strong> âˆ€ a âˆˆ â„, âˆƒ (-a) tal que a + (-a) = 0</li>
                    <li><strong>(A5) Conmutativa:</strong> a + b = b + a</li>
                </ul>
                <h4 class="mt-1rem">Axiomas del Producto</h4>
                <ul>
                    <li><strong>(M1) Cerradura:</strong> âˆ€ a, b âˆˆ â„ â‡’ aÂ·b âˆˆ â„</li>
                    <li><strong>(M2) Asociativa:</strong> (aÂ·b)Â·c = aÂ·(bÂ·c)</li>
                    <li><strong>(M3) Neutro:</strong> âˆƒ 1 âˆˆ â„ tal que aÂ·1 = a</li>
                    <li><strong>(M4) Inverso:</strong> âˆ€ a â‰  0, âˆƒ aâ»Â¹ tal que aÂ·aâ»Â¹ = 1</li>
                    <li><strong>(M5) Conmutativa:</strong> aÂ·b = bÂ·a</li>
                </ul>
                <h4 class="mt-1rem">Distributiva</h4>
                <ul>
                    <li><strong>(D) Distributiva:</strong> aÂ·(b + c) = aÂ·b + aÂ·c</li>
                </ul>
            </div>

            <h3>2. Axiomas de Orden</h3>
            <div class="info-box">
                <p>Existe una relaciÃ³n â‰¤ en â„ que satisface:</p>
                <ul>
                    <li><strong>Reflexiva:</strong> a â‰¤ a</li>
                    <li><strong>AntisimÃ©trica:</strong> Si a â‰¤ b y b â‰¤ a â‡’ a = b</li>
                    <li><strong>Transitiva:</strong> Si a â‰¤ b y b â‰¤ c â‡’ a â‰¤ c</li>
                    <li><strong>Orden total:</strong> âˆ€ a, b: a â‰¤ b Ã³ b â‰¤ a</li>
                    <li><strong>Compatible con suma:</strong> a â‰¤ b â‡’ a + c â‰¤ b + c</li>
                    <li><strong>Compatible con producto:</strong> a â‰¤ b y c â‰¥ 0 â‡’ ac â‰¤ bc</li>
                </ul>
            </div>

            <h3>3. Supremo e Ãnfimo</h3>
            <div class="info-box">
                <h4>Definiciones</h4>
                <div class="formula-box">
                    <strong>Supremo (sup A):</strong> Menor cota superior de A<br>
                    <strong>Ãnfimo (inf A):</strong> Mayor cota inferior de A
                </div>
                <div class="exam-important">
                    <strong>Axioma del Supremo:</strong> Todo subconjunto no vacÃ­o de â„ acotado superiormente tiene supremo en â„.
                </div>
                <p><strong>Diferencia con mÃ¡ximo/mÃ­nimo:</strong></p>
                <ul>
                    <li>max A y min A deben pertenecer a A</li>
                    <li>sup A e inf A pueden no pertenecer a A</li>
                    <li>Ejemplo: A = (0,1) â†’ sup A = 1, inf A = 0, pero 0,1 âˆ‰ A</li>
                </ul>
            </div>

            <h3>4. Valor Absoluto y Distancia</h3>
            <div class="tool-card">
                <h4>ğŸ“ Calculadora de Valor Absoluto</h4>
                <div class="tool-input-group">
                    <label>NÃºmero x:</label>
                    <input type="number" step="any" id="abs-x" placeholder="Ej: -5">
                </div>
                <button class="calc-button" onclick="calculateAbs()">Calcular |x|</button>
                <div class="calc-result" id="abs-result">Ingresa un nÃºmero</div>
            </div>

            <div class="info-box">
                <h4>DefiniciÃ³n de Valor Absoluto</h4>
                <div class="formula-box">
                    |x| = { x si x â‰¥ 0<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-x si x < 0
                </div>
                <h4>Propiedades</h4>
                <ul>
                    <li>|x| â‰¥ 0 para todo x âˆˆ â„</li>
                    <li>|x| = 0 â‡” x = 0</li>
                    <li>|xÂ·y| = |x|Â·|y|</li>
                    <li>|x + y| â‰¤ |x| + |y| (desigualdad triangular)</li>
                    <li>||x| - |y|| â‰¤ |x - y|</li>
                </ul>
            </div>

            <div class="tool-card">
                <h4>ğŸ“ Distancia entre NÃºmeros</h4>
                <div class="tool-input-group">
                    <label>NÃºmero x:</label>
                    <input type="number" step="any" id="dist-x" placeholder="Ej: 3">
                </div>
                <div class="tool-input-group">
                    <label>NÃºmero y:</label>
                    <input type="number" step="any" id="dist-y" placeholder="Ej: 7">
                </div>
                <button class="calc-button" onclick="calculateDistance()">Calcular Distancia</button>
                <div class="calc-result" id="dist-result">Ingresa ambos nÃºmeros</div>
            </div>

            <div class="info-box">
                <h4>Distancia</h4>
                <div class="formula-box">
                    d(x, y) = |x - y|
                </div>
                <p>La distancia entre dos nÃºmeros reales es el valor absoluto de su diferencia</p>
            </div>

            <h3>5. Intervalos en â„</h3>
            <div class="tool-card">
                <h4>ğŸ” Verificador de Intervalos</h4>
                <div class="tool-input-group">
                    <label>NÃºmero x:</label>
                    <input type="number" step="any" id="int-x" placeholder="Ej: 5">
                </div>
                <div class="tool-input-group">
                    <label>LÃ­mite inferior a:</label>
                    <input type="number" step="any" id="int-a" placeholder="Ej: 2">
                </div>
                <div class="tool-input-group">
                    <label>LÃ­mite superior b:</label>
                    <input type="number" step="any" id="int-b" placeholder="Ej: 8">
                </div>
                <button class="calc-button" onclick="checkInterval()">Verificar</button>
                <div class="calc-result" id="int-result">Ingresa los datos</div>
            </div>

            <table class="comparison-table">
                <thead>
                    <tr><th>NotaciÃ³n</th><th>DescripciÃ³n</th><th>GrÃ¡fica</th></tr>
                </thead>
                <tbody>
                    <tr><td>(a, b)</td><td>Abierto: a < x < b</td><td>â—¦â”€â”€â”€â”€â”€â”€â”€â—¦</td></tr>
                    <tr><td>[a, b]</td><td>Cerrado: a â‰¤ x â‰¤ b</td><td>â—â”€â”€â”€â”€â”€â”€â”€â—</td></tr>
                    <tr><td>[a, b)</td><td>Semicerrado: a â‰¤ x < b</td><td>â—â”€â”€â”€â”€â”€â”€â”€â—¦</td></tr>
                    <tr><td>(a, b]</td><td>Semiabierto: a < x â‰¤ b</td><td>â—¦â”€â”€â”€â”€â”€â”€â”€â—</td></tr>
                    <tr><td>(a, âˆ)</td><td>Abierto derecho: x > a</td><td>â—¦â”€â”€â”€â”€â”€â”€â†’</td></tr>
                    <tr><td>[a, âˆ)</td><td>Cerrado derecho: x â‰¥ a</td><td>â—â”€â”€â”€â”€â”€â”€â†’</td></tr>
                    <tr><td>(-âˆ, b)</td><td>Abierto izquierdo: x < b</td><td>â†â”€â”€â”€â”€â”€â”€â—¦</td></tr>
                    <tr><td>(-âˆ, b]</td><td>Cerrado izquierdo: x â‰¤ b</td><td>â†â”€â”€â”€â”€â”€â”€â—</td></tr>
                </tbody>
            </table>

            <h3>6. Desigualdades Importantes</h3>
            <div class="info-box">
                <h4>Desigualdad Triangular</h4>
                <div class="formula-box">
                    |x + y| â‰¤ |x| + |y|
                </div>
                <h4>Desigualdad de Bernoulli</h4>
                <div class="formula-box">
                    (1 + x)â¿ â‰¥ 1 + nx para x â‰¥ -1, n âˆˆ â„•
                </div>
                <h4>Media AritmÃ©tica-GeomÃ©trica</h4>
                <div class="formula-box">
                    âˆš(ab) â‰¤ (a + b)/2 para a, b â‰¥ 0
                </div>
            </div>

            <h3>7. Propiedad Arquimediana</h3>
            <div class="info-box">
                <div class="exam-important">
                    <strong>Teorema:</strong> Para todo x âˆˆ â„, existe n âˆˆ â„• tal que n > x
                </div>
                <p><strong>InterpretaciÃ³n:</strong> Los nÃºmeros naturales no estÃ¡n acotados superiormente. Siempre podemos encontrar un natural mayor que cualquier nÃºmero real dado.</p>
            </div>

            <h3>8. Densidad de â„š en â„</h3>
            <div class="info-box">
                <div class="exam-important">
                    <strong>Teorema:</strong> Entre dos nÃºmeros reales cualesquiera siempre existe un nÃºmero racional.<br>
                    âˆ€ a, b âˆˆ â„ con a < b, âˆƒ r âˆˆ â„š tal que a < r < b
                </div>
                <p><strong>ImplicaciÃ³n:</strong> Los nÃºmeros racionales son densos en los reales. Podemos aproximar cualquier nÃºmero real con la precisiÃ³n que deseemos usando racionales.</p>
            </div>
        </div>

        <!-- Tab 5: Entrenamiento -->
        <div class="content-section" id="entrenamiento">
            <h2>ğŸ¯ Entrenamiento</h2>

            <div class="info-box bg-gradient-success-white">
                <p class="white-text-mt0">Practica con ejercicios de nÃºmeros reales. Â¡Gana +10 puntos por cada respuesta correcta y -5 por incorrecta!</p>
            </div>

            <div id="training-container"></div>
        </div>

        <!-- Tab 6: Examen Final -->
        <div class="content-section" id="examen">
            <h2>ğŸ“ Examen Final de NÃºmeros Reales</h2>

            <div class="info-box bg-gradient-warning-white">
                <p class="white-text-mt0">Completa este examen para demostrar tu dominio de los nÃºmeros reales.</p>
                <p class="white-text"><strong>Requisitos:</strong> 70% o mÃ¡s para aprobar (14/20 respuestas correctas)</p>
                <p class="white-text"><strong>Recompensa:</strong> ObtÃ©n el trofeo "Maestro de los Reales" ğŸ†</p>
            </div>

            <div id="exam-container"></div>

            <div class="exam-actions">
                <button class="btn btn-primary btn-lg" onclick="submitExam()" id="submit-exam-btn">Enviar Examen</button>
                <button class="btn btn-secondary btn-lg" onclick="resetExam()" id="reset-exam-btn">Reiniciar Examen</button>
            </div>

            <div id="exam-result-container"></div>
        </div>
    </div>

    <script src="../../../../lib/storage.js"></script>
    <script src="../../../../lib/gamification.js"></script>
    <script src="../../../../lib/components.js"></script>
    <script>
        const MODULE_ID = 'preliminares-reales';
        const MODULE_TITLE = 'Preliminares: NÃºmeros Reales';
        const TROPHY_ID = 'trophy-reales';

        document.addEventListener('DOMContentLoaded', function() {
            Components.createHeader(MODULE_TITLE, 'index.html');
            
            const tabs = [
                { id: 'glosario', label: 'Glosario', icon: 'ğŸ“–' },
                { id: 'simbolos', label: 'SÃ­mbolos', icon: 'ğŸ”£' },
                { id: 'introduccion', label: 'IntroducciÃ³n', icon: 'ğŸŒŸ' },
                { id: 'teoria', label: 'TeorÃ­a', icon: 'ğŸ“š' },
                { id: 'entrenamiento', label: 'Entrenamiento', icon: 'ğŸ¯' },
                { id: 'examen', label: 'Examen Final', icon: 'ğŸ“' }
            ];
            Components.createTabs(tabs, 'glosario');
            Components.createScoreDisplay();
            
            loadTrainingQuestions();
            loadExam();
            checkExamStatus();
            Gamification.updateDisplay(MODULE_ID);
        });

        // Calculators
        function calculateAbs() {
            const x = parseFloat(document.getElementById('abs-x').value);
            const result = document.getElementById('abs-result');
            
            if (isNaN(x)) {
                result.innerHTML = '<span class="error">âš ï¸ Por favor ingresa un nÃºmero vÃ¡lido</span>';
                return;
            }
            
            const abs = Math.abs(x);
            result.innerHTML = `
                <div class="success">
                    âœ… <strong>|${x}| = ${abs}</strong><br>
                    InterpretaciÃ³n: La distancia de ${x} al origen (0) es ${abs}
                </div>
            `;
        }

        function calculateDistance() {
            const x = parseFloat(document.getElementById('dist-x').value);
            const y = parseFloat(document.getElementById('dist-y').value);
            const result = document.getElementById('dist-result');
            
            if (isNaN(x) || isNaN(y)) {
                result.innerHTML = '<span class="error">âš ï¸ Por favor ingresa ambos nÃºmeros</span>';
                return;
            }
            
            const dist = Math.abs(x - y);
            result.innerHTML = `
                <div class="success">
                    âœ… <strong>d(${x}, ${y}) = |${x} - ${y}| = ${dist}</strong><br>
                    La distancia entre ${x} y ${y} es ${dist}
                </div>
            `;
        }

        function checkInterval() {
            const x = parseFloat(document.getElementById('int-x').value);
            const a = parseFloat(document.getElementById('int-a').value);
            const b = parseFloat(document.getElementById('int-b').value);
            const result = document.getElementById('int-result');
            
            if (isNaN(x) || isNaN(a) || isNaN(b)) {
                result.innerHTML = '<span class="error">âš ï¸ Por favor ingresa todos los valores</span>';
                return;
            }
            
            const inOpen = x > a && x < b;
            const inClosed = x >= a && x <= b;
            
            let html = '<div class="info">';
            html += `<strong>VerificaciÃ³n para x = ${x}, a = ${a}, b = ${b}:</strong><br><br>`;
            html += `(a, b) = (${a}, ${b}): ${inOpen ? 'âœ… SÃ pertenece' : 'âŒ NO pertenece'}<br>`;
            html += `[a, b] = [${a}, ${b}]: ${inClosed ? 'âœ… SÃ pertenece' : 'âŒ NO pertenece'}<br>`;
            html += `[a, b) = [${a}, ${b}): ${x >= a && x < b ? 'âœ… SÃ pertenece' : 'âŒ NO pertenece'}<br>`;
            html += `(a, b] = (${a}, ${b}]: ${x > a && x <= b ? 'âœ… SÃ pertenece' : 'âŒ NO pertenece'}`;
            html += '</div>';
            
            result.innerHTML = html;
        }

        // Training Questions
        const trainingQuestions = [
            { q: 'Â¿CuÃ¡l es el valor de |-7|?', a: '7', hint: 'El valor absoluto siempre es positivo o cero' },
            { q: 'Si |x| = 5, Â¿cuÃ¡ntos valores puede tener x?', a: '2', hint: 'x = 5 Ã³ x = -5' },
            { q: 'Â¿CuÃ¡l es la distancia entre 3 y 10 en â„?', a: '7', hint: 'd(3,10) = |3-10| = |-7| = 7' },
            { q: 'Si A = (0,1), Â¿cuÃ¡l es sup A?', a: '1', hint: 'El supremo es la menor cota superior' },
            { q: 'Si A = (0,1), Â¿existe max A? (1=SÃ, 0=NO)', a: '0', hint: '1 no pertenece a A' },
            { q: 'Resolver |x| < 3. Â¿CuÃ¡ntos nÃºmeros enteros satisfacen?', a: '5', hint: 'x âˆˆ (-3,3) â†’ x = -2,-1,0,1,2' },
            { q: 'Â¿Es âˆš2 un nÃºmero racional? (1=SÃ, 0=NO)', a: '0', hint: 'âˆš2 es irracional' },
            { q: 'Â¿|5 + 3| = |5| + |3|? (1=SÃ, 0=NO)', a: '1', hint: '|8| = 8 y 5+3 = 8' },
            { q: 'Si 0 < a < b, Â¿es âˆš(ab) < (a+b)/2? (1=SÃ, 0=NO)', a: '1', hint: 'Media geomÃ©trica < media aritmÃ©tica' },
            { q: 'Â¿CuÃ¡ntos axiomas de suma hay?', a: '5', hint: 'Cerradura, asociativa, neutro, opuesto, conmutativa' },
            { q: 'Â¿CuÃ¡l es |-12 + 5|?', a: '7', hint: 'Primero calcula -12 + 5 = -7, luego |-7| = 7' },
            { q: 'Si inf A = 3, Â¿puede 3 no estar en A? (1=SÃ, 0=NO)', a: '1', hint: 'El Ã­nfimo puede no pertenecer al conjunto' },
            { q: 'Â¿|x - y| = |y - x| para todo x, y? (1=SÃ, 0=NO)', a: '1', hint: 'La distancia es simÃ©trica' },
            { q: 'Â¿Existe un nÃºmero racional entre Ï€ y Ï€+0.001? (1=SÃ, 0=NO)', a: '1', hint: 'â„š es denso en â„' },
            { q: 'Si |x| = |y|, Â¿x = y necesariamente? (1=SÃ, 0=NO)', a: '0', hint: 'PodrÃ­a ser x = -y' }
        ];

        function loadTrainingQuestions() {
            const container = document.getElementById('training-container');
            container.innerHTML = trainingQuestions.map((item, index) => `
                <div class="exercise-card">
                    <h4>Pregunta ${index + 1}</h4>
                    <p>${item.q}</p>
                    <input type="number" step="any" id="train-${index}" class="input-field" placeholder="Tu respuesta">
                    <div class="button-group">
                        <button class="btn btn-primary" onclick="checkTraining(${index})">Verificar</button>
                        <button class="btn btn-secondary" onclick="showTrainingHint(${index})">ğŸ’¡ Pista</button>
                    </div>
                    <div id="train-hint-${index}" class="hint-box" style="display:none">${item.hint}</div>
                    <div id="train-feedback-${index}" class="feedback"></div>
                </div>
            `).join('');
        }

        function checkTraining(index) {
            const item = trainingQuestions[index];
            const input = document.getElementById(`train-${index}`);
            const feedback = document.getElementById(`train-feedback-${index}`);
            const userAnswer = parseFloat(input.value.trim());
            
            if (isNaN(userAnswer)) {
                feedback.className = 'feedback error';
                feedback.textContent = 'Por favor, ingresa una respuesta numÃ©rica.';
                feedback.style.display = 'block';
                return;
            }
            
            const correctValue = parseFloat(item.a);
            const isCorrect = Math.abs(userAnswer - correctValue) <= 0.01;
            
            if (isCorrect) {
                feedback.className = 'feedback success';
                feedback.textContent = 'Â¡Correcto! âœ¨ +10 puntos';
                input.disabled = true;
                Gamification.addPoints(MODULE_ID, 10);
            } else {
                feedback.className = 'feedback error';
                feedback.textContent = `âŒ Incorrecto. -5 puntos. Respuesta correcta: ${item.a}`;
                Gamification.addPoints(MODULE_ID, -5);
            }
            feedback.style.display = 'block';
            Gamification.updateDisplay(MODULE_ID);
        }

        function showTrainingHint(index) {
            const hint = document.getElementById(`train-hint-${index}`);
            hint.style.display = hint.style.display === 'none' ? 'block' : 'none';
        }

        // Exam
        const examQuestions = [
            { q: 'Â¿CuÃ¡l es el valor absoluto de -15?', a: '15' },
            { q: 'Si |x| = 8, Â¿cuÃ¡l es un valor posible de x? (responde 8 o -8)', a: ['8', '-8'] },
            { q: 'Â¿CuÃ¡l es la distancia entre -4 y 10 en â„?', a: '14' },
            { q: 'Si A = [1, 5], Â¿cuÃ¡l es sup A?', a: '5' },
            { q: 'Si A = (2, 7), Â¿cuÃ¡l es inf A?', a: '2' },
            { q: 'Â¿Existe max A si A = (0, 3)? (1=SÃ, 0=NO)', a: '0' },
            { q: 'Â¿CuÃ¡ntos axiomas de producto hay?', a: '5' },
            { q: 'Si a â‰¤ b y b â‰¤ c, Â¿entonces a â‰¤ c? (1=SÃ, 0=NO)', a: '1' },
            { q: 'Â¿|x + y| â‰¤ |x| + |y| para todo x, y? (1=SÃ, 0=NO)', a: '1' },
            { q: 'Â¿Es Ï€ un nÃºmero racional? (1=SÃ, 0=NO)', a: '0' },
            { q: 'Â¿Es la suma conmutativa en â„? (1=SÃ, 0=NO)', a: '1' },
            { q: 'Â¿CuÃ¡l es |(- 6)|?', a: '6' },
            { q: 'Resolver |x| = 0. Â¿CuÃ¡l es el valor de x?', a: '0' },
            { q: 'Â¿Entre 1.5 y 1.6 hay un nÃºmero racional? (1=SÃ, 0=NO)', a: '1' },
            { q: 'Â¿Los naturales estÃ¡n acotados superiormente? (1=SÃ, 0=NO)', a: '0' },
            { q: 'Si A = {1, 2, 3}, Â¿cuÃ¡l es sup A?', a: '3' },
            { q: 'Â¿|x| = -x si x < 0? (1=SÃ, 0=NO)', a: '1' },
            { q: 'Â¿d(x, y) = d(y, x) para todo x, y? (1=SÃ, 0=NO)', a: '1' },
            { q: 'Â¿CuÃ¡l es el elemento neutro de la suma en â„?', a: '0' },
            { q: 'Â¿âˆš(9Â·16) = âˆš9 Â· âˆš16? (1=SÃ, 0=NO)', a: '1' },
            { q: 'Si |a - b| < 0.1, Â¿estÃ¡n a y b "cerca"? (1=SÃ, 0=NO)', a: '1' },
            { q: 'Â¿Existe inverso multiplicativo de 0? (1=SÃ, 0=NO)', a: '0' },
            { q: 'Si x âˆˆ (2, 5) y y âˆˆ (2, 5), Â¿x + y âˆˆ â„? (1=SÃ, 0=NO)', a: '1' },
            { q: 'Â¿Para x â‰¥ -1 y n âˆˆ â„•, (1+x)â¿ â‰¥ 1+nx? (1=SÃ, 0=NO)', a: '1' },
            { q: 'Â¿CuÃ¡l es |-20 + 20|?', a: '0' }
        ];

        function loadExam() {
            const container = document.getElementById('exam-container');
            const selectedQuestions = examQuestions.slice(0, 20);
            
            container.innerHTML = selectedQuestions.map((item, index) => `
                <div class="exam-question">
                    <h4>Pregunta ${index + 1}</h4>
                    <p>${item.q}</p>
                    <input type="number" step="any" id="exam-${index}" class="input-field" placeholder="Tu respuesta">
                </div>
            `).join('');
        }

        function submitExam() {
            let correct = 0;
            const total = 20;
            const selectedQuestions = examQuestions.slice(0, 20);
            
            for (let i = 0; i < total; i++) {
                const input = document.getElementById(`exam-${i}`);
                const userAnswer = input.value.trim();
                const question = selectedQuestions[i];
                
                if (Array.isArray(question.a)) {
                    if (question.a.includes(userAnswer)) correct++;
                } else {
                    const correctValue = parseFloat(question.a);
                    const userValue = parseFloat(userAnswer);
                    if (!isNaN(userValue) && Math.abs(userValue - correctValue) <= 0.01) {
                        correct++;
                    }
                }
                input.disabled = true;
            }
            
            const percentage = (correct / total) * 100;
            const passed = percentage >= 70;
            
            const resultContainer = document.getElementById('exam-result-container');
            resultContainer.innerHTML = `
                <div class="exam-result ${passed ? 'success' : 'error'}">
                    <h3>${passed ? 'ğŸ‰ Â¡Aprobado!' : 'ğŸ“š Necesitas estudiar mÃ¡s'}</h3>
                    <p><strong>Resultado:</strong> ${correct}/${total} correctas (${percentage.toFixed(1)}%)</p>
                    <p>${passed ? 'Â¡Has dominado los nÃºmeros reales!' : 'Necesitas 14/20 (70%) para aprobar.'}</p>
                </div>
            `;
            
            if (passed) {
                const examData = {
                    passed: true,
                    score: percentage,
                    attempts: (Storage.get().modules[MODULE_ID]?.examAttempts || 0) + 1
                };
                Storage.saveExam(MODULE_ID, examData);
                Gamification.unlockTrophy(TROPHY_ID);
                Gamification.showTrophyToast('Maestro de los Reales', 'Â¡Has completado el mÃ³dulo de NÃºmeros Reales!');
            } else {
                const examData = {
                    passed: false,
                    score: percentage,
                    attempts: (Storage.get().modules[MODULE_ID]?.examAttempts || 0) + 1
                };
                Storage.saveExam(MODULE_ID, examData);
            }
            
            document.getElementById('submit-exam-btn').disabled = true;
            Gamification.updateDisplay(MODULE_ID);
        }

        function resetExam() {
            for (let i = 0; i < 20; i++) {
                const input = document.getElementById(`exam-${i}`);
                input.value = '';
                input.disabled = false;
            }
            document.getElementById('exam-result-container').innerHTML = '';
            document.getElementById('submit-exam-btn').disabled = false;
        }

        function checkExamStatus() {
            const data = Storage.get();
            const moduleData = data.modules[MODULE_ID];
            
            if (moduleData && moduleData.examPassed) {
                const resultContainer = document.getElementById('exam-result-container');
                resultContainer.innerHTML = `
                    <div class="exam-result success">
                        <h3>âœ… Ya aprobaste este examen</h3>
                        <p><strong>PuntuaciÃ³n:</strong> ${moduleData.examScore.toFixed(1)}%</p>
                        <p><strong>Intentos:</strong> ${moduleData.examAttempts}</p>
                        <p>ğŸ† Has desbloqueado el trofeo "Maestro de los Reales"</p>
                    </div>
                `;
                document.getElementById('submit-exam-btn').disabled = true;
            }
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 6: Integral - MatemÃ¡ticas Avanzadas</title>
    <link rel="stylesheet" href="../../../../css/core.css">
    <link rel="stylesheet" href="../../../../css/components.css">
</head>
<body>
    <div id="header-container"></div>
    <div id="tabs-container"></div>
    <div id="score-container"></div>

    <div class="container">
        <div class="content-section active" id="teoria">
            <h2>ğŸ“š TeorÃ­a: Integral</h2>

            <div class="info-box bg-gradient-primary-white">
                <h4 class="color-white mt-0">ğŸ“– Glosario de SÃ­mbolos</h4>
                <ul class="list-clean">
                    <li><strong>âˆ«</strong> = Integral</li>
                    <li><strong>âˆ«f(x)dx</strong> = Integral indefinida</li>
                    <li><strong>âˆ«â‚áµ‡f(x)dx</strong> = Integral definida</li>
                    <li><strong>F(x) + C</strong> = Primitiva + constante</li>
                    <li><strong>TFC</strong> = Teorema Fundamental del CÃ¡lculo</li>
                </ul>
            </div>

            <h3>1. Primitivas (Antiderivadas)</h3>
            <div class="info-box">
                <p><strong>DefiniciÃ³n:</strong> F es primitiva de f si F'(x) = f(x)</p>
                <div class="exam-important">
                    <strong>Importante:</strong> Difieren en una constante C
                </div>
            </div>

            <h3>2. Integral Indefinida</h3>
            <div class="info-box">
                <div class="formula-box">
                    âˆ«f(x)dx = F(x) + C
                </div>
                <p>Representa todas las primitivas de f</p>
            </div>

            <h3>3. Integrales Inmediatas</h3>
            <table class="comparison-table">
                <thead>
                    <tr><th>FunciÃ³n</th><th>Integral</th></tr>
                </thead>
                <tbody>
                    <tr><td>xâ¿ (nâ‰ -1)</td><td>xâ¿âºÂ¹/(n+1) + C</td></tr>
                    <tr><td>1/x</td><td>ln|x| + C</td></tr>
                    <tr><td>eË£</td><td>eË£ + C</td></tr>
                    <tr><td>aË£</td><td>aË£/ln(a) + C</td></tr>
                    <tr><td>sin(x)</td><td>-cos(x) + C</td></tr>
                    <tr><td>cos(x)</td><td>sin(x) + C</td></tr>
                    <tr><td>1/cosÂ²(x)</td><td>tan(x) + C</td></tr>
                </tbody>
            </table>

            <h3>4. MÃ©todos de IntegraciÃ³n</h3>
            <div class="info-box">
                <h4>Por partes:</h4>
                <div class="formula-box">
                    âˆ«u dv = uv - âˆ«v du
                </div>
                <h4>Por sustituciÃ³n:</h4>
                <p>Si âˆ«f(g(x))Â·g'(x)dx, hacer u=g(x)</p>
                <h4>Por descomposiciÃ³n:</h4>
                <p>Para funciones racionales</p>
            </div>

            <h3>5. Integral Definida</h3>
            <div class="info-box">
                <div class="formula-box">
                    âˆ«â‚áµ‡ f(x)dx = F(b) - F(a)
                </div>
                <p><strong>InterpretaciÃ³n geomÃ©trica:</strong> Ãrea bajo la curva</p>
            </div>

            <h3>6. Propiedades Integral Definida</h3>
            <div class="info-box">
                <ul>
                    <li>âˆ«â‚áµ‡ [f(x)+g(x)]dx = âˆ«â‚áµ‡ f(x)dx + âˆ«â‚áµ‡ g(x)dx</li>
                    <li>âˆ«â‚áµ‡ cÂ·f(x)dx = cÂ·âˆ«â‚áµ‡ f(x)dx</li>
                    <li>âˆ«â‚áµ‡ f(x)dx = -âˆ«áµ‡â‚ f(x)dx</li>
                    <li>âˆ«â‚áµ‡ f(x)dx + âˆ«áµ‡á¶œ f(x)dx = âˆ«â‚á¶œ f(x)dx</li>
                </ul>
            </div>

            <h3>7. Teorema Fundamental del CÃ¡lculo</h3>
            <div class="info-box">
                <div class="exam-important">
                    <strong>TFC:</strong> La derivada de la integral es la funciÃ³n original
                </div>
                <p>Si F'(x) = f(x), entonces:</p>
                <div class="formula-box">
                    âˆ«â‚áµ‡ f(x)dx = F(b) - F(a)
                </div>
            </div>

            <h3>8. Aplicaciones</h3>
            <div class="info-box">
                <ul>
                    <li><strong>Ãreas:</strong> âˆ«â‚áµ‡ |f(x)|dx</li>
                    <li><strong>VolÃºmenes de revoluciÃ³n:</strong> Ï€âˆ«â‚áµ‡ [f(x)]Â²dx</li>
                    <li><strong>Longitud de arco:</strong> âˆ«â‚áµ‡ âˆš[1+(f'(x))Â²]dx</li>
                </ul>
            </div>
        </div>

        <div class="content-section" id="ejemplos">
            <h2>ğŸ’¡ Ejemplos Resueltos</h2>

            <div class="info-box border-left-success">
                <h4 class="color-success">Ejemplo 1: Potencia</h4>
                <p><strong>Problema:</strong> âˆ«xÂ³dx</p>
                <p><strong>SoluciÃ³n:</strong> xâ´/4 + C</p>
                <p><strong>Respuesta:</strong> xâ´/4 + C</p>
            </div>

            <div class="info-box border-left-success">
                <h4 class="color-success">Ejemplo 2: Exponencial</h4>
                <p><strong>Problema:</strong> âˆ«eË£dx</p>
                <p><strong>SoluciÃ³n:</strong> eË£ + C</p>
                <p><strong>Respuesta:</strong> eË£ + C</p>
            </div>

            <div class="info-box border-left-success">
                <h4 class="color-success">Ejemplo 3: Definida</h4>
                <p><strong>Problema:</strong> âˆ«â‚€Â² x dx</p>
                <p><strong>SoluciÃ³n:</strong> [xÂ²/2]â‚€Â² = 4/2 - 0 = 2</p>
                <p><strong>Respuesta:</strong> 2</p>
            </div>

            <div class="info-box border-left-success">
                <h4 class="color-success">Ejemplo 4: Ãrea</h4>
                <p><strong>Problema:</strong> Ãrea bajo y=xÂ² entre x=0 y x=1</p>
                <p><strong>SoluciÃ³n:</strong> âˆ«â‚€Â¹ xÂ² dx = [xÂ³/3]â‚€Â¹ = 1/3</p>
                <p><strong>Respuesta:</strong> 1/3 unidadesÂ²</p>
            </div>

            <div class="info-box border-left-success">
                <h4 class="color-success">Ejemplo 5: TrigonomÃ©trica</h4>
                <p><strong>Problema:</strong> âˆ«sin(x)dx</p>
                <p><strong>SoluciÃ³n:</strong> -cos(x) + C</p>
                <p><strong>Respuesta:</strong> -cos(x) + C</p>
            </div>
        </div>

        <div class="content-section" id="herramientas">
            <h2>ğŸ› ï¸ Herramientas Interactivas</h2>

            <div class="tool-card">
                <h3>ğŸ“ Calculadora de Integrales (Potencias)</h3>
                <p>Calcula âˆ«axâ¿dx</p>
                <div class="tool-input-group">
                    <label>Coeficiente a:</label>
                    <input type="number" step="any" id="int-a" placeholder="Ej: 1">
                </div>
                <div class="tool-input-group">
                    <label>Exponente n (nâ‰ -1):</label>
                    <input type="number" step="any" id="int-n" placeholder="Ej: 3">
                </div>
                <button class="calc-button" onclick="calculateIntegral()">Integrar</button>
                <div class="calc-result" id="int-result">Ingresa los datos</div>
            </div>

            <div class="tool-card">
                <h3>ğŸ“Š Calculadora de Integral Definida</h3>
                <p>Calcula âˆ«â‚áµ‡ xÂ² dx</p>
                <div class="tool-input-group">
                    <label>LÃ­mite inferior a:</label>
                    <input type="number" step="any" id="def-a" placeholder="Ej: 0">
                </div>
                <div class="tool-input-group">
                    <label>LÃ­mite superior b:</label>
                    <input type="number" step="any" id="def-b" placeholder="Ej: 2">
                </div>
                <button class="calc-button" onclick="calculateDefiniteIntegral()">Calcular</button>
                <div class="calc-result" id="def-result">Ingresa los lÃ­mites</div>
            </div>

            <div class="tool-card">
                <h3>ğŸ”³ Calculadora de Ãreas</h3>
                <p>Ãrea bajo y=axÂ² entre lÃ­mites</p>
                <div class="tool-input-group">
                    <label>Coeficiente a:</label>
                    <input type="number" step="any" id="area-a" placeholder="Ej: 1">
                </div>
                <div class="tool-input-group">
                    <label>LÃ­mite inferior:</label>
                    <input type="number" step="any" id="area-x1" placeholder="Ej: 0">
                </div>
                <div class="tool-input-group">
                    <label>LÃ­mite superior:</label>
                    <input type="number" step="any" id="area-x2" placeholder="Ej: 1">
                </div>
                <button class="calc-button" onclick="calculateArea()">Calcular Ãrea</button>
                <div class="calc-result" id="area-result">Ingresa los datos</div>
            </div>
        </div>

        <div class="content-section" id="practica">
            <h2>âœï¸ PrÃ¡ctica</h2>
            <div id="exercises-container"></div>
            <div class="navigation-buttons mt-2">
                <button class="btn btn-secondary" onclick="window.location.href='representacion.html'">â¬…ï¸ Anterior</button>
                <button class="btn btn-primary" onclick="window.location.href='index.html'">Ãndice</button>
            </div>
        </div>

        <div class="content-section" id="resumen">
            <h2>ğŸ“‹ Resumen</h2>
            <div class="info-box">
                <h4>ğŸ¯ Conceptos Clave</h4>
                <ul>
                    <li><strong>âˆ«xâ¿dx:</strong> xâ¿âºÂ¹/(n+1) + C</li>
                    <li><strong>âˆ«eË£dx:</strong> eË£ + C</li>
                    <li><strong>âˆ«(1/x)dx:</strong> ln|x| + C</li>
                    <li><strong>TFC:</strong> âˆ«â‚áµ‡f(x)dx = F(b)-F(a)</li>
                    <li><strong>Ãrea:</strong> Integral definida</li>
                    <li><strong>Constante:</strong> No olvidar +C</li>
                </ul>
            </div>
            <div class="navigation-buttons mt-2">
                <button class="btn btn-secondary" onclick="window.location.href='representacion.html'">â¬…ï¸ Anterior</button>
                <button class="btn btn-primary" onclick="window.location.href='index.html'">Ãndice</button>
            </div>
        </div>
    </div>

    <script src="../../../../lib/storage.js"></script>
    <script src="../../../../lib/gamification.js"></script>
    <script src="../../../../lib/components.js"></script>
    <script>
        const MODULE_ID = 'integral';
        const MODULE_TITLE = 'Tema 6: Integral';

        document.addEventListener('DOMContentLoaded', function() {
            Components.createHeader(MODULE_TITLE, 'index.html');
            Components.createTabs([
                { id: 'teoria', label: 'TeorÃ­a', icon: 'ğŸ“š' },
                { id: 'ejemplos', label: 'Ejemplos', icon: 'ğŸ’¡' },
                { id: 'herramientas', label: 'Herramientas', icon: 'ğŸ› ï¸' },
                { id: 'practica', label: 'PrÃ¡ctica', icon: 'âœï¸' },
                { id: 'resumen', label: 'Resumen', icon: 'ğŸ“‹' }
            ], 'teoria');
            Components.createScoreDisplay();
            loadExercises();
            Gamification.updateDisplay(MODULE_ID);
        });

        const exercises = [
            { id: 1, question: 'âˆ«xÂ²dx = xâ¿/(n+1)+C, n=?', correct: '3', hint: 'xÂ³/3 + C, n=3' },
            { id: 2, question: 'âˆ«1 dx = ?', correct: '1', hint: 'x + C, coef es 1' },
            { id: 3, question: 'âˆ«eË£dx coeficiente', correct: '1', hint: 'eË£ + C, coef 1' },
            { id: 4, question: 'âˆ«â‚€Â¹ 2x dx = [xÂ²]â‚€Â¹ = ?', correct: '1', hint: '1Â²-0Â²=1' },
            { id: 5, question: 'âˆ«xâ´dx exponente resultado', correct: '5', hint: 'xâµ/5, exp 5' },
            { id: 6, question: 'âˆ«sin(x)dx = -cos(x)+C, signo (1=+,-1=-)', correct: '-1', hint: 'Signo negativo' },
            { id: 7, question: 'âˆ«cos(x)dx = sin(x)+C, signo (1=+,-1=-)', correct: '1', hint: 'Signo positivo' },
            { id: 8, question: 'âˆ«â‚€Â² x dx = [xÂ²/2]â‚€Â² = ?', correct: '2', hint: '4/2-0=2' },
            { id: 9, question: '(d/dx)âˆ«f(x)dx = ?f(x) [coef]', correct: '1', hint: 'TFC: vale f(x)' },
            { id: 10, question: 'Ãrea bajo y=1 de x=0 a x=3', correct: '3', hint: 'âˆ«â‚€Â³ 1 dx = 3' }
        ];

        function loadExercises() {
            document.getElementById('exercises-container').innerHTML = exercises.map(ex => `
                <div class="exercise-card"><h4>Ejercicio ${ex.id}</h4><p>${ex.question}</p>
                <input type="number" step="any" id="ex${ex.id}" class="input-field" placeholder="Tu respuesta">
                <div class="button-group">
                    <button class="btn btn-primary" onclick="checkAnswer(${ex.id})">Verificar</button>
                    <button class="btn btn-secondary" onclick="showHint(${ex.id})">ğŸ’¡ Pista</button>
                </div>
                <div id="hint${ex.id}" class="hint-box" style="display:none;">${ex.hint}</div>
                <div id="feedback${ex.id}" class="feedback"></div></div>
            `).join('');
        }

        function checkAnswer(exerciseId) {
            const exercise = exercises.find(ex => ex.id === exerciseId);
            const input = document.getElementById('ex' + exerciseId);
            const feedback = document.getElementById('feedback' + exerciseId);
            const userAnswer = parseFloat(input.value.trim());
            const isCorrect = Math.abs(userAnswer - parseFloat(exercise.correct)) <= 0.1;
            
            if (isCorrect) {
                feedback.className = 'feedback success';
                feedback.textContent = 'Â¡Correcto! âœ¨ +10 puntos';
                input.disabled = true;
                Gamification.completeExercise(MODULE_ID, true);
            } else {
                feedback.className = 'feedback error';
                feedback.textContent = 'Incorrecto. Intenta de nuevo.';
                Gamification.completeExercise(MODULE_ID, false);
            }
            feedback.style.display = 'block';
            Gamification.updateDisplay(MODULE_ID);
        }

        function showHint(exerciseId) {
            const hint = document.getElementById('hint' + exerciseId);
            hint.style.display = hint.style.display === 'none' ? 'block' : 'none';
        }

        function calculateIntegral() {
            const a = parseFloat(document.getElementById('int-a').value);
            const n = parseFloat(document.getElementById('int-n').value);
            const result = document.getElementById('int-result');
            
            if (isNaN(a) || isNaN(n)) {
                result.textContent = 'âš ï¸ Completa ambos campos';
                return;
            }
            
            if (n === -1) {
                result.textContent = 'âš ï¸ n no puede ser -1 (usar ln|x|)';
                return;
            }
            
            const newCoef = a / (n + 1);
            const newExp = n + 1;
            
            result.innerHTML = `
                <strong>âˆ«${a}x^${n}dx =</strong><br>
                <strong>${newCoef.toFixed(3)}x^${newExp} + C</strong>
            `;
        }

        function calculateDefiniteIntegral() {
            const a = parseFloat(document.getElementById('def-a').value);
            const b = parseFloat(document.getElementById('def-b').value);
            const result = document.getElementById('def-result');
            
            if (isNaN(a) || isNaN(b)) {
                result.textContent = 'âš ï¸ Completa ambos lÃ­mites';
                return;
            }
            
            const Fb = (b * b * b) / 3;
            const Fa = (a * a * a) / 3;
            const value = Fb - Fa;
            
            result.innerHTML = `
                <strong>âˆ«${a}^${b} xÂ² dx =</strong><br>
                <strong>[xÂ³/3]${a}^${b} =</strong><br>
                <strong>${Fb.toFixed(3)} - ${Fa.toFixed(3)} = ${value.toFixed(3)}</strong>
            `;
        }

        function calculateArea() {
            const a = parseFloat(document.getElementById('area-a').value);
            const x1 = parseFloat(document.getElementById('area-x1').value);
            const x2 = parseFloat(document.getElementById('area-x2').value);
            const result = document.getElementById('area-result');
            
            if (isNaN(a) || isNaN(x1) || isNaN(x2)) {
                result.textContent = 'âš ï¸ Completa todos los campos';
                return;
            }
            
            const Fx2 = a * (x2 * x2 * x2) / 3;
            const Fx1 = a * (x1 * x1 * x1) / 3;
            const area = Math.abs(Fx2 - Fx1);
            
            result.innerHTML = `
                <strong>FunciÃ³n:</strong> y = ${a}xÂ²<br>
                <strong>LÃ­mites:</strong> [${x1}, ${x2}]<br>
                <strong>Ãrea = ${area.toFixed(3)} unidadesÂ²</strong>
            `;
        }
    </script>
</body>
</html>
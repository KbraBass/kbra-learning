<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MatemÃ¡ticas BÃ¡sicas - Kbra Learning</title>
    
    <!-- Shared CSS -->
    <link rel="stylesheet" href="../../css/core.css">
    <link rel="stylesheet" href="../../css/components.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”¢ MatemÃ¡ticas BÃ¡sicas ğŸ”¢</h1>
            <p class="subtitle">Aprende las operaciones fundamentales de las matemÃ¡ticas</p>
            <a href="../../index.html" class="back-button">ğŸ  Volver al Inicio</a>
        </div>

        <!-- Progress stats -->
        <div id="stats-container"></div>

        <!-- Module cards -->
        <div class="games-grid" id="modules-grid"></div>
    </div>

    <!-- Shared JavaScript Libraries -->
    <script src="../../lib/storage.js"></script>
    <script src="../../lib/gamification.js"></script>
    <script src="../../lib/components.js"></script>

    <script>
        // Module definitions
        const modules = [
            {
                id: 'suma',
                icon: 'â•',
                title: 'Suma',
                description: 'Â¡Aprende a sumar! Descubre cÃ³mo juntar nÃºmeros de forma divertida con visualizaciones y prÃ¡ctica interactiva.',
                link: 'suma.html'
            },
            {
                id: 'resta',
                icon: 'â–',
                title: 'Resta',
                description: 'Â¡Aprende a restar! Descubre cÃ³mo quitar nÃºmeros y resolver problemas de sustracciÃ³n.',
                link: 'resta.html'
            },
            {
                id: 'multiplicacion',
                icon: 'âœ–ï¸',
                title: 'MultiplicaciÃ³n',
                description: 'Â¡Domina las tablas! Aprende a multiplicar con trucos, tablas interactivas y mucha prÃ¡ctica.',
                link: 'multiplicacion.html'
            },
            {
                id: 'division',
                icon: 'â—',
                title: 'DivisiÃ³n',
                description: 'Â¡Aprende a dividir! Descubre cÃ³mo repartir cantidades de manera equitativa.',
                link: 'division.html'
            }
        ];

        // Initialize page
        function init() {
            const completedModules = Storage.getCompletedLessons();
            const moduleData = modules.map(module => {
                const data = Storage.getModuleData(module.id);
                return {
                    ...module,
                    completed: completedModules.includes(module.id),
                    bestScore: data ? data.bestScore : 0
                };
            });

            // Render stats
            const stats = Storage.getStats();
            const categoryProgress = Gamification.getCategoryProgress(modules.map(m => m.id));
            
            document.getElementById('stats-container').innerHTML = `
                ${Components.createStatsCard(stats)}
                ${Components.createProgressBar(
                    categoryProgress.completed,
                    categoryProgress.total,
                    'Progreso en MatemÃ¡ticas BÃ¡sicas'
                )}
            `;

            // Render module cards
            const grid = document.getElementById('modules-grid');
            moduleData.forEach(module => {
                grid.innerHTML += Components.createModuleCard(module);
            });
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>

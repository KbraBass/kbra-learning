<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìä Tema 1: Estad√≠stica y Probabilidad</title>
    <style>
        * {margin: 0; padding: 0; box-sizing: border-box;}
        body {font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; color: #333;}
        .container {max-width: 1200px; margin: 0 auto; padding: 20px;}
        .breadcrumb {background: rgba(255, 255, 255, 0.9); padding: 15px 25px; border-radius: 15px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; flex-wrap: wrap;}
        .breadcrumb a {color: #667eea; text-decoration: none;}
        .breadcrumb a:hover {text-decoration: underline;}
        .header {background: rgba(255, 255, 255, 0.98); border-radius: 25px; padding: 40px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); text-align: center;}
        .header h1 {font-size: 2.8em; color: #667eea; margin-bottom: 15px;}
        .warning-box {background: #fff3cd; border-left: 5px solid #ffc107; padding: 20px; border-radius: 10px; margin: 20px 0;}
        .warning-box h3 {color: #856404; margin-bottom: 10px;}
        .tabs {display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 15px;}
        .tab-button {background: #e0e0e0; border: none; padding: 12px 25px; border-radius: 10px; cursor: pointer; font-size: 1em; font-weight: 600; transition: all 0.3s ease; color: #666;}
        .tab-button:hover {background: #d0d0d0;}
        .tab-button.active {background: linear-gradient(135deg, #667eea, #764ba2); color: white;}
        .content-section {display: none; background: rgba(255, 255, 255, 0.98); border-radius: 20px; padding: 35px; margin-bottom: 20px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);}
        .content-section.active {display: block; animation: fadeIn 0.4s ease;}
        @keyframes fadeIn {from {opacity: 0; transform: translateY(10px);} to {opacity: 1; transform: translateY(0);}}
        h2 {color: #667eea; font-size: 2em; margin-bottom: 20px;}
        h3 {color: #764ba2; font-size: 1.5em; margin: 25px 0 15px 0;}
        p {line-height: 1.8; margin-bottom: 15px; font-size: 1.05em;}
        .concept-box {background: #f0f4ff; border-left: 5px solid #667eea; padding: 20px; margin: 20px 0; border-radius: 10px;}
        .formula-box {background: #fff8e1; border: 2px dashed #f59e0b; padding: 20px; margin: 20px 0; border-radius: 10px; text-align: center; font-size: 1.3em; font-weight: bold;}
        .example-box {background: #e8f5e9; border-left: 5px solid #10b981; padding: 20px; margin: 20px 0; border-radius: 10px;}
        .interactive-tool {background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 30px; border-radius: 15px; margin: 25px 0;}
        .input-group {margin: 15px 0;}
        .input-group label {display: block; margin-bottom: 8px; font-weight: 600;}
        .input-group input, .input-group select {width: 100%; max-width: 300px; padding: 12px; border: none; border-radius: 8px; font-size: 1em;}
        .calc-button {background: white; color: #667eea; border: none; padding: 12px 30px; border-radius: 10px; font-size: 1.1em; font-weight: bold; cursor: pointer; margin: 15px 10px 0 0; transition: all 0.3s ease;}
        .calc-button:hover {transform: translateY(-2px); box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);}
        .result-box {background: rgba(255, 255, 255, 0.2); padding: 20px; border-radius: 10px; margin-top: 20px; min-height: 60px;}
        .exercise {background: #f8f9fa; padding: 20px; border-radius: 12px; margin: 15px 0; border: 2px solid #e0e0e0;}
        .exercise-input {padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em; width: 200px; margin: 10px 10px 10px 0;}
        .check-button {background: #10b981; color: white; border: none; padding: 10px 25px; border-radius: 8px; cursor: pointer; font-weight: bold;}
        .hint-button {background: #f59e0b; color: white; border: none; padding: 10px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin-left: 10px;}
        .feedback {margin-top: 15px; padding: 15px; border-radius: 8px; font-weight: bold; display: none;}
        .feedback.correct {background: #d1fae5; color: #065f46; border: 2px solid #10b981; display: block;}
        .feedback.incorrect {background: #fee2e2; color: #991b1b; border: 2px solid #ef4444; display: block;}
        .hint-box {background: #fef3c7; border-left: 4px solid #f59e0b; padding: 15px; margin-top: 10px; border-radius: 8px; display: none;}
        .score-panel {background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 20px; border-radius: 15px; margin: 20px 0; display: flex; justify-content: space-around; flex-wrap: wrap;}
        .score-item {text-align: center; padding: 10px;}
        .score-item .score-number {font-size: 2.5em; font-weight: bold;}
        .navigation-buttons {display: flex; justify-content: space-between; margin: 30px 0; gap: 15px; flex-wrap: wrap;}
        .nav-btn {background: rgba(255, 255, 255, 0.95); color: #667eea; padding: 15px 30px; border-radius: 50px; text-decoration: none; font-weight: bold; transition: all 0.3s ease; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);}
        .nav-btn:hover {background: white; transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);}
        ul {margin-left: 25px; line-height: 1.8;}
        li {margin: 10px 0;}
        @media (max-width: 768px) {.header h1 {font-size: 2em;} .tabs {flex-direction: column;} .tab-button {width: 100%;}}
    </style>
</head>
<body>
    <div class="container">
        <nav class="breadcrumb">
            <a href="../../index.html">üè† Inicio</a><span>‚Ä∫</span>
            <a href="../index.html">Mates Avanzadas</a><span>‚Ä∫</span>
            <a href="volume1_index.html">Volumen I</a><span>‚Ä∫</span>
            <span>Tema 1</span>
        </nav>

        <div class="header">
            <h1>üìä Tema 1: Estad√≠stica y Probabilidad</h1>
            <p class="subtitle">Combinatoria: Principios B√°sicos y Combinaciones</p>
        </div>

        <div class="warning-box">
            <h3>‚ö†Ô∏è Nota Importante</h3>
            <p><strong>Este tema NO es materia de examen</strong>, excepto:</p>
            <ul>
                <li>‚úÖ Principios B√°sicos de Combinatoria (Secci√≥n 1.4)</li>
                <li>‚úÖ F√≥rmula de combinaciones sin repetici√≥n (Secci√≥n 1.5.3)</li>
            </ul>
        </div>

        <div class="score-panel">
            <div class="score-item"><div class="score-number" id="points">0</div><div class="score-label">Puntos</div></div>
            <div class="score-item"><div class="score-number" id="completed">0</div><div class="score-label">Ejercicios</div></div>
            <div class="score-item"><div class="score-number" id="accuracy">0%</div><div class="score-label">Precisi√≥n</div></div>
        </div>

        <div class="tabs">
            <button class="tab-button active" onclick="showTab('teoria')">üìö Teor√≠a</button>
            <button class="tab-button" onclick="showTab('ejemplos')">üí° Ejemplos</button>
            <button class="tab-button" onclick="showTab('herramientas')">üßÆ Calculadora</button>
            <button class="tab-button" onclick="showTab('practica')">‚úèÔ∏è Pr√°ctica</button>
            <button class="tab-button" onclick="showTab('resumen')">üìã Resumen</button>
        </div>

        <div class="content-section active" id="teoria">
            <h2>üìö Teor√≠a: Principios de Combinatoria</h2>

            <h3>üìñ Glosario de S√≠mbolos Matem√°ticos</h3>
            <div class="concept-box" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; margin-bottom: 25px;">
                <h4 class="white-text-mt0">S√≠mbolos utilizados en Combinatoria:</h4>
                <ul class="list-unstyled-lh2">
                    <li><strong>n!</strong> = Factorial de n = n √ó (n-1) √ó (n-2) √ó ... √ó 2 √ó 1</li>
                    <li><strong>0!</strong> = 1 (por definici√≥n)</li>
                    <li><strong>P(n)</strong> = Permutaciones de n elementos (orden importa)</li>
                    <li><strong>V(n,r)</strong> = Variaciones: ordenar r de n elementos</li>
                    <li><strong>C(n,r)</strong> = Combinaciones: seleccionar r de n elementos (orden NO importa)</li>
                    <li><strong>(n r)</strong> = Notaci√≥n alternativa para C(n,r) (coeficiente binomial)</li>
                    <li><strong>m √ó n</strong> = Multiplicaci√≥n (principio multiplicativo)</li>
                    <li><strong>m + n</strong> = Adici√≥n (principio aditivo)</li>
                    <li><strong>‚â†</strong> = Distinto de / no igual a</li>
                    <li><strong>‚àà</strong> = Pertenece a (ejemplo: r ‚àà ‚Ñï)</li>
                </ul>
                <p style="margin-top: 15px; padding-top: 15px; border-top: 2px solid rgba(255,255,255,0.3);">
                    <strong>Ejemplo de lectura:</strong><br>
                    C(5,2) = 5!/(2!√ó3!) se lee: "Combinaciones de 5 elementos tomados de 2 en 2 es igual a 5 factorial dividido por 2 factorial por 3 factorial"
                </p>
            </div>

            <h3>1. Principios B√°sicos de Conteo</h3>
            
            <div class="concept-box">
                <h4>Principio de Multiplicaci√≥n</h4>
                <p>Si un evento puede ocurrir de <strong>m</strong> maneras diferentes y, despu√©s de que esto suceda, 
                un segundo evento puede ocurrir de <strong>n</strong> maneras diferentes, entonces ambos eventos 
                pueden ocurrir de <strong>m √ó n</strong> maneras diferentes.</p>
            </div>

            <div class="example-box">
                <h4>Ejemplo</h4>
                <p>Si tienes 3 camisas y 4 pantalones, puedes vestirte de 3 √ó 4 = 12 maneras diferentes.</p>
            </div>

            <div class="concept-box">
                <h4>Principio de Adici√≥n</h4>
                <p>Si un evento puede ocurrir de <strong>m</strong> maneras diferentes y otro evento (que no puede 
                ocurrir al mismo tiempo) puede ocurrir de <strong>n</strong> maneras diferentes, entonces uno u otro 
                evento puede ocurrir de <strong>m + n</strong> maneras.</p>
            </div>

            <h3>2. Permutaciones</h3>
            <p>Ordenaci√≥n de n elementos donde <strong>el orden S√ç importa</strong>.</p>
            
            <div class="formula-box">
                P(n) = n! = n √ó (n-1) √ó (n-2) √ó ... √ó 2 √ó 1
            </div>

            <p>Ejemplo: Las permutaciones de {A, B, C} son: ABC, ACB, BAC, BCA, CAB, CBA = 3! = 6</p>

            <h3>3. Variaciones</h3>
            <p>Ordenaciones de r elementos tomados de n elementos, donde <strong>el orden S√ç importa</strong>.</p>
            
            <div class="formula-box">
                V(n,r) = n!/(n-r)!
            </div>

            <h3>4. Combinaciones (‚ö†Ô∏è IMPORTANTE PARA EXAMEN)</h3>
            <p>Selecciones de r elementos tomados de n elementos, donde <strong>el orden NO importa</strong>.</p>
            
            <div class="formula-box">
                C(n,r) = n!/(r!(n-r)!)
            </div>

            <div class="concept-box">
                <h4>üìå F√≥rmula de Combinaciones sin Repetici√≥n (Secci√≥n 1.5.3)</h4>
                <p>Esta es la f√≥rmula clave que S√ç debes conocer para el examen:</p>
                <div style="text-align: center; font-size: 1.3em; margin: 15px 0;">
                    <strong>C(n,r) = (n r) = n!/(r!(n-r)!)</strong>
                </div>
                <p><strong>Ejemplo:</strong> C(5,2) = 5!/(2!√ó3!) = 120/(2√ó6) = 10</p>
                <p>Esto significa: de 5 elementos, podemos seleccionar 2 de 10 maneras diferentes.</p>
            </div>

            <h3>5. Propiedades de las Combinaciones</h3>
            <ul>
                <li>C(n, 0) = 1</li>
                <li>C(n, n) = 1</li>
                <li>C(n, r) = C(n, n-r)</li>
                <li>C(n, r) + C(n, r+1) = C(n+1, r+1)</li>
            </ul>
        </div>

        <div class="content-section" id="ejemplos">
            <h2>üí° Ejemplos Resueltos</h2>

            <div class="example-box">
                <h4>Ejemplo 1: Principio de Multiplicaci√≥n</h4>
                <p><strong>Problema:</strong> Un restaurante ofrece 4 entradas, 6 platos principales y 3 postres. ¬øDe cu√°ntas formas se puede elegir un men√∫ completo?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>Aplicamos el principio de multiplicaci√≥n:</p>
                <p>Total = 4 √ó 6 √ó 3 = 72 men√∫s diferentes</p>
            </div>

            <div class="example-box">
                <h4>Ejemplo 2: Permutaciones</h4>
                <p><strong>Problema:</strong> ¬øDe cu√°ntas formas pueden sentarse 5 personas en una fila?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>P(5) = 5! = 5 √ó 4 √ó 3 √ó 2 √ó 1 = 120 formas</p>
            </div>

            <div class="example-box">
                <h4>Ejemplo 3: Variaciones</h4>
                <p><strong>Problema:</strong> En una carrera de 10 corredores, ¬øde cu√°ntas formas pueden quedar los 3 primeros lugares?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>V(10,3) = 10!/(10-3)! = 10!/7! = 10 √ó 9 √ó 8 = 720 formas</p>
            </div>

            <div class="example-box">
                <h4>Ejemplo 4: Combinaciones (‚ö†Ô∏è IMPORTANTE)</h4>
                <p><strong>Problema:</strong> De un grupo de 8 estudiantes, ¬øde cu√°ntas formas se puede seleccionar un comit√© de 3?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>C(8,3) = 8!/(3!√ó5!) = (8√ó7√ó6)/(3√ó2√ó1) = 336/6 = 56 formas</p>
            </div>

            <div class="example-box">
                <h4>Ejemplo 5: Combinaciones - Aplicaci√≥n</h4>
                <p><strong>Problema:</strong> ¬øCu√°ntas manos de 5 cartas se pueden formar de un mazo de 52 cartas?</p>
                <p><strong>Soluci√≥n:</strong></p>
                <p>C(52,5) = 52!/(5!√ó47!) = 2,598,960 manos diferentes</p>
            </div>
        </div>

        <div class="content-section" id="herramientas">
            <h2>üßÆ Calculadora de Combinatoria</h2>

            <div class="interactive-tool">
                <h3>Calculadora de Factorial</h3>
                <div class="input-group">
                    <label>n! (ingresa n):</label>
                    <input type="number" id="factorialInput" min="0" max="20" placeholder="Ej: 5">
                </div>
                <button class="calc-button" onclick="calculateFactorial()">Calcular n!</button>
                <div class="result-box" id="factorialResult"></div>
            </div>

            <div class="interactive-tool">
                <h3>Calculadora de Permutaciones</h3>
                <div class="input-group">
                    <label>N√∫mero de elementos (n):</label>
                    <input type="number" id="permN" min="1" max="20" placeholder="Ej: 5">
                </div>
                <button class="calc-button" onclick="calculatePermutation()">Calcular P(n)</button>
                <div class="result-box" id="permResult"></div>
            </div>

            <div class="interactive-tool">
                <h3>Calculadora de Variaciones</h3>
                <div class="input-group">
                    <label>Total de elementos (n):</label>
                    <input type="number" id="varN" min="1" max="20" placeholder="Ej: 10">
                </div>
                <div class="input-group">
                    <label>Elementos a tomar (r):</label>
                    <input type="number" id="varR" min="1" max="20" placeholder="Ej: 3">
                </div>
                <button class="calc-button" onclick="calculateVariation()">Calcular V(n,r)</button>
                <div class="result-box" id="varResult"></div>
            </div>

            <div class="interactive-tool">
                <h3>Calculadora de Combinaciones (‚ö†Ô∏è IMPORTANTE)</h3>
                <div class="input-group">
                    <label>Total de elementos (n):</label>
                    <input type="number" id="combN" min="1" max="50" placeholder="Ej: 8">
                </div>
                <div class="input-group">
                    <label>Elementos a seleccionar (r):</label>
                    <input type="number" id="combR" min="0" max="50" placeholder="Ej: 3">
                </div>
                <button class="calc-button" onclick="calculateCombination()">Calcular C(n,r)</button>
                <div class="result-box" id="combResult"></div>
            </div>
        </div>

        <div class="content-section" id="practica">
            <h2>‚úèÔ∏è Pr√°ctica Guiada</h2>

            <div class="exercise">
                <h4>Ejercicio 1: Calcula 4!</h4>
                <input type="number" id="ex1" class="exercise-input" placeholder="Resultado">
                <button class="check-button" onclick="checkExercise(1, '24')">Verificar</button>
                <button class="hint-button" onclick="showHint(1)">üí° Pista</button>
                <div class="hint-box" id="hint1">4! = 4 √ó 3 √ó 2 √ó 1</div>
                <div class="feedback" id="feedback1"></div>
            </div>

            <div class="exercise">
                <h4>Ejercicio 2: Calcula C(6,2)</h4>
                <input type="number" id="ex2" class="exercise-input" placeholder="Resultado">
                <button class="check-button" onclick="checkExercise(2, '15')">Verificar</button>
                <button class="hint-button" onclick="showHint(2)">üí° Pista</button>
                <div class="hint-box" id="hint2">C(6,2) = 6!/(2!√ó4!) = (6√ó5)/(2√ó1)</div>
                <div class="feedback" id="feedback2"></div>
            </div>

            <div class="exercise">
                <h4>Ejercicio 3: ¬øDe cu√°ntas formas se pueden ordenar 3 libros en un estante?</h4>
                <input type="number" id="ex3" class="exercise-input" placeholder="Resultado">
                <button class="check-button" onclick="checkExercise(3, '6')">Verificar</button>
                <button class="hint-button" onclick="showHint(3)">üí° Pista</button>
                <div class="hint-box" id="hint3">Es una permutaci√≥n: P(3) = 3!</div>
                <div class="feedback" id="feedback3"></div>
            </div>

            <div class="exercise">
                <h4>Ejercicio 4: De 7 candidatos, ¬øde cu√°ntas formas se puede elegir un comit√© de 4?</h4>
                <input type="number" id="ex4" class="exercise-input" placeholder="Resultado">
                <button class="check-button" onclick="checkExercise(4, '35')">Verificar</button>
                <button class="hint-button" onclick="showHint(4)">üí° Pista</button>
                <div class="hint-box" id="hint4">Es una combinaci√≥n: C(7,4)</div>
                <div class="feedback" id="feedback4"></div>
            </div>

            <div class="exercise">
                <h4>Ejercicio 5: Calcula C(5,0)</h4>
                <input type="number" id="ex5" class="exercise-input" placeholder="Resultado">
                <button class="check-button" onclick="checkExercise(5, '1')">Verificar</button>
                <button class="hint-button" onclick="showHint(5)">üí° Pista</button>
                <div class="hint-box" id="hint5">C(n,0) siempre es 1 (solo hay una forma de no elegir nada)</div>
                <div class="feedback" id="feedback5"></div>
            </div>
        </div>

        <div class="content-section" id="resumen">
            <h2>üìã Resumen del Tema</h2>

            <div class="concept-box">
                <h4>üéØ Puntos Clave para el Examen</h4>
                <ul>
                    <li><strong>Principio de Multiplicaci√≥n:</strong> Eventos secuenciales ‚Üí multiplicar</li>
                    <li><strong>F√≥rmula de Combinaciones (‚ö†Ô∏è IMPORTANTE):</strong> C(n,r) = n!/(r!(n-r)!)</li>
                    <li><strong>Cu√°ndo usar combinaciones:</strong> El orden NO importa</li>
                    <li><strong>Propiedades:</strong> C(n,0)=1, C(n,n)=1, C(n,r)=C(n,n-r)</li>
                </ul>
            </div>

            <div class="concept-box">
                <h4>Diferencias Clave</h4>
                <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                    <tr style="background: #667eea; color: white;">
                        <th class="border-cell">Concepto</th>
                        <th class="border-cell">¬øOrden importa?</th>
                        <th class="border-cell">F√≥rmula</th>
                    </tr>
                    <tr>
                        <td class="border-cell">Permutaciones</td>
                        <td class="border-cell">S√ç</td>
                        <td class="border-cell">n!</td>
                    </tr>
                    <tr>
                        <td class="border-cell">Variaciones</td>
                        <td class="border-cell">S√ç</td>
                        <td class="border-cell">n!/(n-r)!</td>
                    </tr>
                    <tr>
                        <td class="border-cell"><strong>Combinaciones</strong></td>
                        <td class="border-cell"><strong>NO</strong></td>
                        <td class="border-cell"><strong>n!/(r!(n-r)!)</strong></td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="navigation-buttons">
            <a href="preliminares_numeros.html" class="nav-btn">‚¨ÖÔ∏è Tema Anterior</a>
            <a href="volume1_index.html" class="nav-btn">üìö √çndice Volumen I</a>
            <a href="tema2_polinomios.html" class="nav-btn">Siguiente Tema ‚û°Ô∏è</a>
        </div>
    </div>

    <script>
        function showTab(tab) {
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
            document.getElementById(tab).classList.add('active');
            event.target.classList.add('active');
        }

        let score = {points: 0, completed: 0, total: 5, correct: 0};

        function updateScore() {
            document.getElementById('points').textContent = score.points;
            document.getElementById('completed').textContent = score.completed;
            document.getElementById('accuracy').textContent = 
                score.completed > 0 ? Math.round((score.correct/score.completed)*100) + '%' : '0%';
            
            const data = JSON.parse(localStorage.getItem('matematicasAvanzadas')) || {puntos:0, ejerciciosCompletados:0, progreso:{volumen1:{}}};
            data.puntos = (data.puntos || 0) + score.points;
            data.ejerciciosCompletados = (data.ejerciciosCompletados || 0) + score.completed;
            data.progreso.volumen1.tema1 = {completado: score.completed, total: score.total};
            localStorage.setItem('matematicasAvanzadas', JSON.stringify(data));
            score.points = 0;
        }

        function checkExercise(num, correct) {
            const input = document.getElementById('ex'+num);
            const feedback = document.getElementById('feedback'+num);
            if(input.dataset.completed) return;
            if(input.value.trim() === correct) {
                feedback.className = 'feedback correct';
                feedback.textContent = '¬°Correcto! +10 puntos üéâ';
                score.points += 10; score.completed++; score.correct++;
                input.dataset.completed = 'true'; input.disabled = true;
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = 'Incorrecto. Intenta de nuevo.';
                score.completed++;
            }
            updateScore();
        }

        function showHint(num) {
            const hint = document.getElementById('hint'+num);
            hint.style.display = hint.style.display === 'block' ? 'none' : 'block';
        }

        function factorial(n) {
            if(n <= 1) return 1;
            return n * factorial(n-1);
        }

        function calculateFactorial() {
            const n = parseInt(document.getElementById('factorialInput').value);
            if(isNaN(n) || n < 0) {
                document.getElementById('factorialResult').innerHTML = 'Ingresa un n√∫mero v√°lido';
                return;
            }
            document.getElementById('factorialResult').innerHTML = 
                `<strong>${n}! = ${factorial(n).toLocaleString()}</strong>`;
        }

        function calculatePermutation() {
            const n = parseInt(document.getElementById('permN').value);
            if(isNaN(n) || n < 1) return;
            document.getElementById('permResult').innerHTML = 
                `<strong>P(${n}) = ${n}! = ${factorial(n).toLocaleString()}</strong>`;
        }

        function calculateVariation() {
            const n = parseInt(document.getElementById('varN').value);
            const r = parseInt(document.getElementById('varR').value);
            if(isNaN(n) || isNaN(r) || r > n) return;
            const result = factorial(n) / factorial(n-r);
            document.getElementById('varResult').innerHTML = 
                `<strong>V(${n},${r}) = ${result.toLocaleString()}</strong>`;
        }

        function calculateCombination() {
            const n = parseInt(document.getElementById('combN').value);
            const r = parseInt(document.getElementById('combR').value);
            if(isNaN(n) || isNaN(r) || r > n) return;
            const result = factorial(n) / (factorial(r) * factorial(n-r));
            document.getElementById('combResult').innerHTML = 
                `<strong>C(${n},${r}) = ${result.toLocaleString()}</strong><br>
                <small>C√°lculo: ${n}! / (${r}! √ó ${n-r}!)</small>`;
        }
    </script>
</body>
</html>
